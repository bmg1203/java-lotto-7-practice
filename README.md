# 로또

###### 우아한테크코스 7기 프리코스 3주차 백엔드

---------------------------

## 프로젝트 개요

> 금액을 입력받아 복권을 발행한 뒤 당첨 번호를 입력받아 당첨 결과를 출력하는, 간단한 복권 시뮬레이션

1. 사용자로부터 금액을 입력받음
2. 금액에 따라 가능한 최대 수량의 로또 발행
3. 발행한 모든 로또 출력
4. 사용자로부터 당첨 번호와 보너스 번호를 입력받음
5. 등수별 당첨 결과와 총 수익률을 출력

---------------------------

## 구현할 기능 목록

### 용어

- `정수 범위`: `int`타입 범위(`-2,147,483,648` ~ `2,147,483,647`)
- `로또 1장 가격`: `1000`원
- `구분자`: 쉼표(`,`)
- `로또 번호 범위`: `1`부터 `45`까지
- `로또 번호 갯수`: `6`개

### 로또 판매 과정

- ##### 구입 금액 입력 처리 과정
- [x] 유효한 값을 입력 받을 때 까지 반복 시도한다.
  - [x] 구입 금액 입력 안내 메시지를 출력한다.
  - [x] 사용자로부터 구입 금액을 입력 받는다.
  - [x] 구입 금액 입력 값의 유효성을 검사한다.
      - [x] 빈 문자열일 경우 예외처리
      - [x] 공백일 경우 예외처리 (` `, `\t`, `\n`)
  - [x] 입력 값이 정수인지 검사한다.
      - [x] 숫자이외 문자 포함할 경우 예외처리
      - [x] `정수 범위`를 벗어나는 경우 예외처리
  - [x] 구입 금액 입력 문자열을 정수로 변환한다.
  - [x] 변환된 정수의 유효성을 검사한다.
      - [x] 음수일 경우 예외처리 (`-1`)
      - [x] `로또 1장 가격`보다 작아 1장도 구매할 수 없을 경우 예외처리 (`999`)
      - [x] `로또 1장 가격`으로 나누어 떨어지지 않을 경우 예외처리 (`100`,`1500`)
      - [x] 금액이 너무 큰 경우 예외처리 (`10_000_000`)
- ##### 로또 발행 과정
- [x] 구입 금액에 따라 구매 가능한 로또의 최대 수량을 계산한다.
- [x] 구매 가능한 최대 수량만큼 로또를 발행한다.
    - [x] 발행 : `로또 번호 범위`사이의 정수 중에서 무작위로 중복되지 않는 `로또 번호 갯수`만큼 숫자를 선정한다.
- [x] 발행한 로또들을 출력형식에 따라 출력한다.

### 당첨 추첨 과정

- ##### 당첨 번호 입력 처리 과정
- [x] 유효한 값을 입력 받을 때 까지 반복 시도한다.
  - [x] 로또 당첨 번호 입력 안내 메시지를 출력한다.
  - [x] 사용자로부터 `구분자`로 구분된 로또 당첨 번호들을 입력받는다.
  - [x] 로또 당첨 번호 입력 값의 유효성을 검사한다.
      - [x] 빈 문자열일 경우 예외처리
      - [x] 공백일 경우 예외처리 (` `, `\t`, `\n`)
      - [x] 숫자와 `구분자` 이외 문자 포함할 경우 예외처리
  - [x] 로또 당첨 번호 입력 문자열을 `구분자`로 나눈다.
  - [x] 나누어진 문자열들의 유효성을 검사한다.
      - [x] 빈 문자열일 경우 예외처리 (연속된 `구분자`입력 대응: `1,,2,,,3`)
      - [x] `정수 범위`를 벗어나는 경우 예외처리
      - [x] 입력된 번호의 갯수가 `로또 번호 갯수`와 다를 경우 예외처리
  - [x] 나누어진 문자열들을 정수로 변환한다.
  - [x] 정수로 변환된 당첨 번호들의 유효성을 검사한다.
      - [x] `로또 번호 범위`사이의 수가 아닐 경우 예외처리
      - [x] 중복된 번호가 있을 경우 예외처리
- ##### 보너스 번호 입력 처리 과정
- [x] 유효한 값을 입력 받을 때 까지 반복 시도한다.
  - [x] 보너스 번호 입력 안내 메시지를 출력한다.
  - [x] 사용자로부터 보너스 번호를 입력 받는다.
  - [x] 보너스 번호 입력 문자열의 유효성을 검사한다.
      - [x] 빈 문자열일 경우 예외처리
      - [x] 공백일 경우 예외처리 (` `, `\t`, `\n`)
      - [x] 숫자이외 문자 포함할 경우 예외처리
      - [x] `정수 범위`를 벗어나는 경우 예외처리
  - [x] 보너스 번호 입력 문자열을 정수로 변환한다.
  - [x] 정수로 변환된 보너스 번호의 유효성을 검사한다.
      - [x] `로또 번호 범위`사이의 수가 아닐 경우 예외처리
      - [x] 당첨 번호들과 중복될 경우 예외처리

### 종료 과정

- ##### 결과 계산 과정
- [x] 로또 당첨 기준에 따라 발행된 로또들의 당첨 여부와 등수를 집계한다.
    - [x] 로또 번호와 당첨 번호가 일치하는 번호 갯수를 확인한다.
    - [x] 보너스 번호가 일치하는지 확인한다.
    - [x] 당첨 등수를 판별한다.
- [x] 총 당첨 금액을 계산한다.
- [x] 수익률을 계산한다.
- ##### 결과 출력 과정
- [x] 당첨 통계 메시지를 출력한다.
- [x] 당첨 내역을 출력형식에 따라 출력한다.
- [x] 총 수익률을 출력형식에 따라 출력한다.

---

## 테스트 구성

### 유효성 검사 테스트 (ValidatorTest)

- 빈 문자열 검사
- 공백 문자열 검사
- 숫자로 구성된 문자열인지 검사
