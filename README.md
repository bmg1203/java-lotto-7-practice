# 로또 발매기
해당 프로그램은 사용자가 입력한 금액으로 로또를 구매하고, 생성된 로또 번호와 당첨 번호를 비교하여
당첨 여부와 수익률을 출력한다. 프로그램에 필요한 기능에 대한 설명, 예외 처리, 참고사항에 대한 내용이 포함되어 있습니다.

---

## 기능 흐름도
1. 구입 금액 입력받기
2. 구입 금액을 로또 개수로 변환하기
3. 로또를 발행하여 출력한다.
4. 당첨 번호를 입력받기
5. 보너스 번호를 입력 받기
6. 발행된 로또 번호와 당첨 번호를 비교하여 결과를 도출
7. 통계 결과를 바탕으로 수익률 계산
8. 당첨 통계와 수익률 결과 출력

### 실행 결과 예시
```prolog
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43]
[3, 5, 11, 16, 32, 38]
[7, 11, 16, 35, 36, 44]
[1, 8, 11, 31, 41, 42]
[13, 14, 16, 38, 42, 45]
[7, 11, 30, 40, 42, 43]
[2, 13, 22, 32, 38, 45]
[1, 3, 5, 14, 22, 45]

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.

```

---

## 도메인 목록
### Lotto
- 로또 번호를 저장하는 객체
- 프로그램이 생성한 로또 번호와 사용자가 입력한 당첨 번호를 포함한다.

### LottoResult
- 발행한 로또 번호와 당첨 번호를 비교한 결과를 저장하는 객체
- 일치하는 번호의 개수와 보너스 번호 일치 여부를 포함한다.

### LottoRank
- 당첨에 필요한 일치 개수, 당첨 금액, 당첨 설명을 정의하는 열겨형 객체
- 일치하는 번호 개수와 보너스 일치 여부를 바탕으로 열거형 객체를 반환한다.

---

## 기능 목록
### 1. InputView: 사용자의 입력을 받고 유효성을 검사
- [x] 구입 금액
- [x] 당첨 번호
- [x] 보너스 번호

### 2. LottoConverter: 입력된 금액을 로또 개수로 변환
- [x] 구입 금액을 로또 개수로 변환
- [x] 금액 관련 예외 처리
  - [x] 입력된 가격이 최소 금액보다 낮은 경우
  - [x] 입력된 가격이 설정된 단위로 떨어지지 않는 경우

### 3. LottoParser: 당첨 번호 문자열을 숫자 리스트로 반환
- [x] 당첨 번호 문자열을 쉼표로 구분하여 정수 리스트로 변환

### 4. OutputView: 입력 메시지 및 실행 결과 출력
- [x] 입력 관련 메시지 출력
- [x] 로또 번호 출력
- [x] 당첨 통계 출력
- [x] 수익률 출력

### 5. LottoGenerator: 로또 번호를 생성하고 로또 객체 리스트로 반환
- [x] 로또가 여러 개인 경우 로또 리스트로 반환 (복수 로또)
- [x] 주어진 개수만큼 1~45 범위의 난수 번호 생성 및 오름차순 정렬 (단일 로또)

### 6. LottoComparator: 로또 번호와 당첨 번호를 비교
- [x] 각 로또 티켓을 당첨 번호와 비교하여 일치 개수와 보너스 번호 일치 여부를 확인
- [x] 비교 결과를 LottoResult 객체 리스트에 담아 반환

### 7. LottoStatisticsCalculator: 로또 당첨 결과를 바탕으로 당첨 횟수와 수익률을 계산
- [x] 로또 당첨 결과 리스트를 기반으로 각 등수별 당첨 개수를 집계하여 Map 형태로 반환
- [x] 당첨 통계를 기반으로 수익률 계산
- 기준
  - 1등: 6개 번호 일치 / 2,000,000,000원
  - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
  - 3등: 5개 번호 일치 / 1,500,000원
  - 4등: 4개 번호 일치 / 50,000원
  - 5등: 3개 번호 일치 / 5,000원
- 수익률은 소수점 둘째 자리에서 반올림한다.

---

## 예외 처리 (Validator)
### 1. 입력값
- [x] 입력값이 비어 있는 경우: `[ERROR] 입력이 비어 있습니다. 값을 입력해주세요.`
- [x] 입력값이 숫자가 아닌 경우: `[ERROR] 올바른 숫자를 입력해주세요.`
     
### 2. 구입 금액
- [x] 1000원 이하인 경우: `[ERROR] 최소 구입 금액은 1000원 이상이어야 합니다.`
- [x] 1000원으로 나누어 떨어지지 않는 경우: `[ERROR] 금액은 1000원 단위여야 합니다.`

### 3. 로또 번호
- [x] 로또 번호의 개수가 다른 경우: `[ERROR] 로또 번호는 6개여야 합니다.`
- [x] 로또 번호가 중복되는 경우: `[ERROR] 로또 번호는 중복될 수 없습니다.`
- [x] 당첨 번호가 범위를 벗어나는 경우 (1 ~ 45): `[ERROR] 로또 번호는 1~45 사이의 숫자여야 합니다.`

### 4. 보너스 번호 
- [x] 입력값이 하나의 숫자가 아닌 경우: `[ERROR] 올바른 숫자를 입력해주세요.`
- [x] 당첨번호와 보너스 번호가 같은 경우: `[ERROR] 보너스 번호는 당첨 번호와 중복될 수 없습니다.`

---

## 참고사항
- 잘못된 입력값으로 에러가 발생한 경우 에러 메시지 출력 후 다시 입력 받는다.
- 에러 메시지 출력시 다음과 같은 형식을 따른다: `[ERROR] 에러 메시지`
- Enum을 적용하여 프로그램을 구현한다.
- UI 관련 로직은 테스트에서 제외한다.
- `Random` 및 `Console` API를 사용하여 구현한다.
- 제공된 Lotto 클래스를 사용하여 구현한다.
   ```java
   public class Lotto {
   private final List<Integer> numbers;

    public Lotto(List<Integer> numbers) {
        validate(numbers);
        this.numbers = numbers;
    }

    private void validate(List<Integer> numbers) {
        if (numbers.size() != 6) {
            throw new IllegalArgumentException("[ERROR] 로또 번호는 6개여야 합니다.");
        }
    }

    // TODO: 추가 기능 구현
   }  
   ```
