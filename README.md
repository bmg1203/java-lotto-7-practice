# [WEEK3] 로또

> 😊2주차 피드백에 대한 회고와 보완해야 할 점
> * 의미 없는 주석을 달지 말자, 이름을 의도가 드러나도록 잘 짓자
> * `README.md`을 상세히 작성하고 살아있는 문서로 유지될 수 있도록 노력하자
> * 기능 목록에 예외 상황도 함께 정리하자
> * 값을 하드 코딩하지 않고 **상수(`static final`)를 정의**하고 의미 있는 이름을 부여하자
> * 변수 이름에 자료형(`CarList`)을 사용하지 말자
> * **한 메서드를 15라인이 넘지 않도록 구현**하면서 의식적으로 메서드를 분리하자
> * 작은 단위의 테스트를 진행하자

> 😄3주차 기능 구현을 통한 학습 목표
>  * 관련 함수를 묶어 클래스를 만들고, 객체들이 협력하여 하나의 큰 기능 수행
>  * 클래스와 함수에 대한 단위 테스트하여 올바른 작동 영역 확보
>  * **들여쓰기는 2까지만** 허용
>  * **함수 1개는 한 가지 일만 수행**하도록 작게 쪼개기
>  * `else` 예약어를 사용하지 않기
>  * **Java Enum을 적용**하여 프로그램 구현
>  * 단위 **테스트는 UI 로직을 제외**하고 진행하기 위해 MVC 구조 사용

### 목표: 로또를 구매하고 당첨 번호 및 보너스 번호를 기준으로 당첨 여부를 판단

---
로또 발매기를 통한 1개의 로또 조건은 다음과 같다.

* 1개의 로또 번호의 숫자 범위: `1~45`
* 1개의 로또는 **중복되지 않는 6개의 숫자**를 **랜덤으로** 뽑는다.
* 로또 한 장의 가격 = _**1000원**_

로또 구입 금액을 **천 원 단위로 입력** 받아 일치하는 개수만큼 로또를 구매한다.
이후, **당첨 번호(6개 숫자)와 보너스 번호**를 입력 받고 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 결과와 수익률을 출력한다.
입력값에 대해서는 **[ERROR] 메세지를 출력하고 해당값을 다시 입력** 받는다.

* 당첨 기준과 금액
  * 1등: 6개 번호 일치 / 2,000,000,000원
  * 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
  * 3등: 5개 번호 일치 / 1,500,000원
  * 4등: 4개 번호 일치 / 50,000원
  * 5등: 3개 번호 일치 / 5,000원
* 수익률 = 당첨금 / 로또 구입 금액
  * 소수점 둘째 자리에서 반올림

### 📖구현 기능 목록

---

1. **로또 구매**
    * 1000원 단위로 구입 금액 입력
    * 구입 금액 예외 처리
      * 숫자가 아닌 경우
      * 1000원으로 나누어 떨어지지 않는 경우
    * `구입 금액/1000`을 계산하여 구매한 로또 개수 산출
    * 랜덤값 6개를 뽑아 로또 개수 만큼 구매하고 출력
2. **당첨 번호 및 보너스 번호 입력**
    * 당첨 번호 6개 입력
    * 입력된 당첨 번호 예외 처리
      * 6개의 숫자가 아닌 경우
      * 1~45 사이의 숫자가 아닌 경우
      * 중복된 숫자가 나오는 경우
    * 당첨 번호를 구분자(,)를 기준으로 자료구조에 저장
    * 보너스 번호 입력
    * 입력된 보너스 번호 예외 처리
      * 숫자가 아닌 경우
      * 범위가 `1~45`가 아닌 경우
      * 앞서 입력받은 6개의 당첨 번호와 중복되는 경우
3. **당첨 통계 산출**
    * 구입한 로또에 몇 개의 당첨 번호가 포함되어 있는지 계산
    * 구입한 로또에 보너스 번호가 포함되어 있는지 판단
    * 위의 두 가지 결과를 가지고 당첨 등수 개수 저장
    * 당첨 등수 결과 출력
4. **수익률 계산**
    * 당첨 통계 결과를 통해 수익률 계산
    * 총 수익률 출력

### ✏️기능 설명

---

> **다음 내용을 고민하고 적용했습니다.**
> * 테스트 코드에서 UI 로직을 분리하기 위해 MVC 패턴을 사용
> * 코드 재사용성을 높이기 위해 상속 개념을 사용 (`Lotto` - `WinningLotto`)
> * 오버로딩과 오버라이딩을 통해 유사한 기능의 함수들을 구분 (`toString()`, `validate()`)


1. **Model**
   * `Lotto` : 로또 한 개의 6개 숫자를 검증하고 출력
   * `WinningLotto` : 당첨 로또의 6개 숫자 및 보너스 숫자를 검증하고 구매한 로또들의 당첨 여부를 계산
   * `LottoRank` : Enum type, 1~5등에 대한 정보를 저장하고 이에 대응하는 출력 문구 출력
   * `Lottos` : 구입 금액에 대한 검증과 구입한 로또 개수 계산하고 최종 로또 등수 저장 
   * constant
     * `ErrorMessage` : 검증하는 에러에 대한 메세지
     * `Values` : 리터럴 값에 대한 변수
2. **View**
    * `InputView` : 사용자에게 입력 받는 로직
    * `OutputView` : 사용자를 위한 출력 로직
3. **Controller**
    * `BuyingController` : 로또를 구입하고 구입한 결과를 보여주는 컨트롤러
    * `WinningController` : 구입한 로또에 대해 당첨 여부와 수익률을 계산하고 결과를 보여주는 컨트롤러

