# java-lotto-precourse

## 🎰 로또

- 구매 금액을 입력 받고, 로또 발행 (1000원 단위)
- 금액에 따라 로또 발행
- 당첨 번호/보너스 번호를 입력 받고, 당첨 결과 확인
- 당첨 결과/수익률 출력

---

## 🌳 계층 구조

```
src
├── main
│   └── java
│       └── lotto
│           ├── common          // 공통 상수 및 에러 메시지
│           ├── config          // 설정 및 의존성 관리
│           ├── controller      // 컨트롤러
│           ├── domain          
│           ├── dto             
│           ├── service         // 비즈니스 로직 서비스 계층
│           ├── util            // 유틸리티
│           └── view            
└── test
    └── java
        └── lotto        
            └── service          // 비즈니스 로직 테스트

```

---

## ✅ 기능 구현 목록

- [x] 사용자에게 입력 받기
    - [x] 로또 구입 금액 입력 받기
    - [x] 당첨 번호 입력 받기
    - [x] 보너스 번호 입력 받기
- [x] 로또 번호 발행
- [x] 당첨 결과 확인 및 저장
    - [x] 수익률 계산
- [x] 결과 출력
    - [x] 발행한 로또 수량 및 번호 출력 (오름차순)
    - [x] 당첨 내역 출력
- [x] 입력값 검증
    - [x] 구입 금액/당첨 번호/보너스 번호는 양수로 변환 가능해야 함
    - [x] 구입 금액은 1000원으로 나누어 떨어져야 함
    - [x] 당첨 번호는 쉼표를 기준으로 구분
    - [x] 당첨 번호는 6개의 숫자여야 함
    - [x] 당첨 번호는 1에서 45 사이의 숫자여야 함
    - [x] 보너스 번호는 1에서 45 사이의 숫자여야 함
- [x] 입력값 검증 후, 다시 입력 받기

--- 

## ❓추가로 생각해본 구현/예외 사항

- 사용자의 입력에 빈 칸 존재 시, 자체적으로 빈 칸을 제거해주었다.
    - 인적 오류 감안
- View 클래스를 굳이 세세하게 나누지 않았다.
    - 지난 주 다른 사람들의 코드를 보니, View 클래스를 Input/Output으로만 나눈 것을 볼 수 있었다.
    - 나의 코드를 보니 단일 책임의 원칙을 클래스 범위에서도 적용시키려고 노력해 클래스를 과하게 나눈 것 같았다.
    - 오히려 가독성이 나빠진 것 같았다.
    - 이번 과제에서는 클래스 단에서의 단일 책임 원칙을 과하게 적용하지 않으려고 노력했다.
- DTO 사용
    - 컨트롤러를 두 개 사용하게 됨으로써, 컨트롤러 간 통신을 DTO를 통해 사용토록 함

---

## 🛠️ 구현 중 생각해본 것들

### 1️⃣ try-catch 예외 발생 시, 재시도
> https://woojin.tistory.com/74

#### 반복문 (while)

- 가독성은 조금 떨어짐 (indent depth 증가)
- 그러나, stack overflow 발생 X

#### 재귀 호출

- 메서드 호출이 스택에 저장되며 stack overflow 발생 가능
- 그러나, 가독성은 더 좋음

stack overflow를 방지하기 위해 반복문을 사용했다.

### 2️⃣ 상수는 어떻게 관리하는 게 좋을까?

- 처음엔 상수를 모두 사용하는 해당 클래스 내에서 선언했다.
- 같은 내용의 상수가 여러 클래스에서 선언되는 것을 볼 수 있었다.
- 이를 한 번에 관리하기 위해 상수 관리 클래스를 사용했다.

### 3️⃣ AppConfig

이전 과제에서는 의존성 주입을 Application에서 생성 후, 주입해주었기 때문에 코드의 가독성이 떨어졌다.<br>
다른 사람들의 코드를 보니, AppConfig를 통해 의존성을 관리한 것을 볼 수 있었다.

#### 장점

- 싱글톤 패턴, 팩토리 메서드 이용해 가독성이 좋아졌다.

#### 단점

- OCP(개방 폐쇄 원칙)을 만족하지 못하게 되었다.

---

## 🔖 피드백 사항 체크

### 1주차 내용

- [x] 이름을 통해 의도 나타내기
- [x] 축약하지 않기
- [x] 의미없는 주석 달지 않기
- [x] 배열 대신 컨벤션 사용하기

### 2주차 내용

- [x] READ.ME 상세 작성
- [x] 기능 목록 재검토/업데이트
- [x] 값을 하드코딩 하지 않기 (상수 사용)
- [x] 구현 순서 지키기 (상수, 멤버 변수, 생성자, 메서드)
- [x] 변수 이름에 자료형 사용하지 않기
- [x] 한 메서드가 한 가지 기능만 사용 (15라인이 넘지 않도록)
- [x] 테스트 작성 이유 정리
- [x] 처음부터 큰 단위 테스트 사용하지 않기

### 프로그래밍 요구 사항

- [x] indent(인덴트, 들여쓰기) depth 3이 넘지 않기 (2까지만 허용)
- [x] 3항 연산자 쓰지 않기
- [x] else 예약어 쓰지 않기 (switch/case 포함)
- [x] JUnit 5와 AssertJ를 이용하여 구현 기능 작동 확인하기
- [x] 구현한 기능에 대한 단위 테스트 작성
- [x] Java Enum 적용하여 구현하기