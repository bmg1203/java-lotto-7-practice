# java-lotto-precourse
# 미션 - 로또
## 🔊기능 요구 사항
간단한 로또 발매기를 구현한다.
* 로또 번호의 숫자 범위는 1~45까지이다.
* 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
* 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
* 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
    * 1등: 6개 번호 일치 / 2,000,000,000원
    * 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    * 3등: 5개 번호 일치 / 1,500,000원
    * 4등: 4개 번호 일치 / 50,000원
    * 5등: 3개 번호 일치 / 5,000원
* 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.
* 로또 1장의 가격은 1,000원이다.
* 당첨 번호와 보너스 번호를 입력받는다.
* 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
* 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
    * Exception이 아닌 `IllegalArgumentException`, `IllegalStateException` 등과 같은 명확한 유형을 처리한다.
### 입출력 요구 사항
#### 입력
* 로또 구입 금액을 입력 받는다. 구입 금액은 1,000원 단위로 입력 받으며 1,000원으로 나누어 떨어지지 않는 경우 예외 처리한다.
    ```declarative
    14000
    ```
* 당첨 번호를 입력 받는다. 번호는 쉼표(,)를 기준으로 구분한다.
    ```declarative
    1,2,3,4,5,6
    ```
* 보너스 번호를 입력 받는다.
    ```declarative
    7
    ```
#### 출력
* 발행한 로또 수량 및 번호를 출력한다. 로또 번호는 오름차순으로 정렬하여 보여준다.
    ```declarative
    8개를 구매했습니다.
    [8, 21, 23, 41, 42, 43]
    [3, 5, 11, 16, 32, 38]
    [7, 11, 16, 35, 36, 44]
    [1, 8, 11, 31, 41, 42]
    [13, 14, 16, 38, 42, 45]
    [7, 11, 30, 40, 42, 43]
    [2, 13, 22, 32, 38, 45]
    [1, 3, 5, 14, 22, 45]
    ```
* 당첨 내역을 출력한다.
    ```declarative
    3개 일치 (5,000원) - 1개
    4개 일치 (50,000원) - 0개
    5개 일치 (1,500,000원) - 0개
    5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
    6개 일치 (2,000,000,000원) - 0개
    ```
* 수익률은 소수점 둘째 자리에서 반올림한다.(ex. 100.0%, 51.5%, 1,000,000.0%)
    ```declarative
    총 수익률은 62.5%입니다.
    ```
* 예외 상황 시 에러 문구를 출력해야 한다. 단, 에러 문구는 "[ERROR]"로 시작해야 한다.
    ```declarative
    [ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
    ```
#### 실행 결과 예시
   ```declarative
    구입금액을 입력해 주세요.
    8000
    
    8개를 구매했습니다.
    [8, 21, 23, 41, 42, 43] 
    [3, 5, 11, 16, 32, 38] 
    [7, 11, 16, 35, 36, 44] 
    [1, 8, 11, 31, 41, 42] 
    [13, 14, 16, 38, 42, 45] 
    [7, 11, 30, 40, 42, 43] 
    [2, 13, 22, 32, 38, 45] 
    [1, 3, 5, 14, 22, 45]
    
    당첨 번호를 입력해 주세요.
    1,2,3,4,5,6
    
    보너스 번호를 입력해 주세요.
    7
    
    당첨 통계
    ---
    3개 일치 (5,000원) - 1개
    4개 일치 (50,000원) - 0개
    5개 일치 (1,500,000원) - 0개
    5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
    6개 일치 (2,000,000,000원) - 0개
    총 수익률은 62.5%입니다.
   ```
## 🔊 프로그래밍 요구 사항
* 프리코스 1주차 문자열 덧셈 계산기에서 제시한 [프로그래밍 요구사항](https://github.com/usnijee/java-calculator-7/tree/usnijee)
* 프리코스 2주차 자동차 경주에서 제시한 [프로그래밍 요구사항](https://github.com/usnijee/java-racingcar-7/tree/usnijee)
* 추가 요구 사항
    * 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다
        * 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
    * else 예약어를 쓰지 않는다.
        * switch/case도 허용하지 않는다.
        * 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다
    * Java Enum을 적용하여 프로그램을 구현한다.
    * 구현한 기능에 대한 단위 테스트를 작성한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
        * 단위 테스트 작성이 익숙하지 않다면 LottoTest를 참고하여 학습한 후 테스트를 작성한다.

### Lotto 클래스
* 제공된 Lotto 클래스를 사용하여 구현해야 한다.
* Lotto에 numbers 이외의 필드(인스턴스 변수)를 추가할 수 없다.
* numbers의 접근 제어자인 private은 변경할 수 없다.
* Lotto의 패키지를 변경할 수 있다.
* 
## 📄 Directory Tree
```declarative
main
└── java
    └── lotto
        ├── domain
        │   ├── Lotto
        │   ├── LottoCalculator
        │   └── PrizeTier
        ├── io
        │   ├── InputReader
        │   └── OutputWriter
        ├── strategy
        │   └── LotteryNumberGenerator
        ├── validation
        │   └── InputValidator
        └── Application
test
└── java
    └── racingcar
        ├── ApplicationTest
        └── LottoTest
```
## 📄기능 목록

### domain
* **Lotto**
  *  로또 번호와 관련된 기능
      * `countMatchingNumbers` : 당첨 번호와 일치하는 로또 번호의 개수 반환
      * `contains` : 특정 보너스 번호가 로또 번호에 포함되어 있는지 확인 
* **LottoCalculator**
  * 로또 당첨 결과를 계산하고 수익률을 산출하는 기능
    * `calculateResults` : 로또 티켓과 당첨 번호, 보너스 번호를 비교하여 각 등수(PrizeTier) 별 당첨 개수를 계산
    * `profitRate`: 총 상금을 기반으로 구매 금액 대비 수익률을 계산하여 반환
* **PrizeTier**
  * 로또 당첨 등수를 정의하는 열거형(enum) 클래스
    - `FIRST`: 1등, 6개 일치, 상금 20억 원.
    - `SECOND`: 2등, 5개 일치 + 보너스 번호 일치, 상금 3천만 원.
    - `THIRD`: 3등, 5개 일치, 상금 150만 원.
    - `FOURTH`: 4등, 4개 일치, 상금 5만 원.
    - `FIFTH`: 5등, 3개 일치, 상금 5천 원.
    - `getMatchCount()`: 각 등수에 필요한 일치 개수를 반환.
    - `isBonusMatch()`: 각 등수에 보너스 번호 일치가 필요한지 여부를 반환.
    - `getPrize()`: 각 등수의 상금을 반환.
### io
* **InputReader**
  * 사용자로부터 입력을 받는 기능
    - `totalPurchaseAmount`: 사용자에게 총 구매 금액을 입력받고, 유효성을 검사한 후 구매 가능한 로또 개수를 반환.
    - `winningNumbers`: 당첨 번호를 쉼표로 구분된 형식으로 입력받아 리스트 형태로 반환, 유효성을 검사.
    - `bonusNumber`: 보너스 번호를 입력받아 리스트에 없는 번호인지 확인 후 반환.
    - `readInput`: 콘솔에서 입력을 읽어오는 메서드.
    - `stringToInt`: 입력받은 문자열을 정수로 변환하며, 유효성을 검사.
* **OutputWriter**
  * 로또 관련 정보를 콘솔에 출력하는 기능
    - `message`:  메시지를 콘솔에 출력
    - `issuedNumbers`: 발행된 복권 번호 리스트를 출력하며, 각 티켓을 새 줄에 인쇄하여 명확한 가시성을 제공합니다.
    - `lottoCalculateResults`: 복권 계산 결과를 각 등급별로 출력.
    - `profitRate(double profitRate)`: 총 수익률을 백분율로 출력.
    - `addBlankLine()`: 빈 줄 출력.
### strategy
  * **LotteryNumberGenerator**
    * 로또 번호를 생성 기능
      * `generateNumbers`: 지정된 수만큼의 로또 번호 조합을 생성

### validation
  * **InputValidator** 
    * 로또 관련 입력 값의 유효성을 검사하여 잘못된 입력을 방지
      * `integerValidate`: 주어진 문자열이 정수인지 검증
      * `purchaseAmountValidate`: 구입 금액이 1,000원 단위인지 검증
      * `winningNumbersValidate`: 당첨 번호의 유효성을 검증
        * 입력된 번호의 개수가 6개인지 확인하고, 1~45 범위의 정수인지 확인
        * 중복된 번호 여부 확인
      * `bonusNumberValidate`: 보너스 번호의 유효성을 검증
        - 보너스 번호가 1~45 범위의 정수인지 확인


