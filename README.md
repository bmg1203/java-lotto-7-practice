# java-lotto-precourse

기능 요구 사항
---

>간단한 로또 발매기를 구현한다.

- 로또 번호의 숫자 범위는 1~45까지이다.
- 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
- 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
- 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 3등: 5개 번호 일치 / 1,500,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원
- 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.
- 로또 1장의 가격은 1,000원이다.
- 당첨 번호와 보너스 번호를 입력받는다.
- 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
- 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
    - Exception이 아닌 IllegalArgumentException, IllegalStateException 등과 같은 명확한 유형을 처리한다.


## 입력
- 로또 구입 금액을 입력 받는다
    - 구입 금액은 1,000원 단위(아닐경우 예외)
- 당첨 번호를 입력 받는다
    - 쉼표 기준 구분
- 보너스 번호를 입력 받는다

## 출력
- 발행한 로또 수량 및 번호를 출력
    - 오름차순으로 정렬
- 당첨 내역 출력
    - 등수별로
    - 수익률 소수점 둘째 자리 반올림

## 예외 상황은 [ERROR] 문구 출력

# 코드리뷰 개선점

---

- 매직넘버 상수화
- 테스트 클래스 분리
- 의미없는 멤버 변수 삭제
- 변수면 자료형 명시 X
- 메서드명 의미 확실하게
- 어떤 테스트인지 확실하게 명시
- 의미있는 개행
- 스트림 사용해보기
- 동일 클래스 내 일급 객체 패지로 관리
- scanner `close` 해주기
- 출력할 문자열 모아서 한번에 출력
- 멤버 변수 순서 생각
- 전략패턴 final 고려
- 일급 컬렉션 사용해보기


# 흐름
- 구입 금액 입력
- 당첨 번호 입력
- 보너스 번호 입력
- 당첨 통계
- 수익률

# 설계
- 로또(Lotto) 클래스
    - [x] List<Integer>를 가진 일급 컬렉션
    - [x] 개수 검증
    - [x] 범위 검증
    - [x] 중복 숫자 검증


- 구입 금액(Money) 클래스(String money)
    - [x] 숫자 검증
    - [x] 양수 검증
    - [x] 1000 배수 검증
    - [ ] 0 검증


- 당첨 번호(WinningNumber) 클래스
    - [x] `List<Integer>` 를 가짐
    - [x] `BonusNumber` 를 가짐
        - [x] 중복 검증
    - [x] 숫자 검증
    - [x] 정수형 검증
    - [x] 양수 검증
    - [x] 범위 검증


- 보너스 번호(BonusNumber) 클래스
    - [x] 숫자 검증
    - [x] 정수형 검증
    - [x] 양수 검증
    - [x] 범위 검증
    - [x] 중복 검증


- 당첨 금액(WinningMoney) 클래스
    - [x] 당첨 내역을 받아온다
    - [x] 당첨금을 계산한다


- 당첨(Rank) 열거형
    - [x] 순위, 금액, 보너스 번호 여부를 가진다


- 시도 횟수(Trial) 클래스(Money money)
    - [x] `Money`를 바탕으로 시도횟수를 계산한다
        - [x] `Money` / 1000


- 수익률(ReturnRate) 클래스(구입 금액, 당첨 금액)
    - [x] 수익률을 계산한다
        - [x] 당첨 금액 / 구입 금액
        - [ ] 소수점 둘째 자리 반올림


- 랜덤 숫자 생성(RandomNumberGenerator) 클래스
    - [x] 숫자 생성 인터페이스의 구현체
    - [x] 1~45 사이의 랜덤한 숫자를 6개 생성한다
    - [ ] 오름차순으로 정렬


- 당첨 여부 판단 클래스(List<Lotto>, WinningNumber)
    - [x] List<Lotto>와 WinningNumber 를 멤버 변수로 가진다
    - List<`Lotto`> 를 순회하며 당첨 여부 확인
        - [x] `Lotto` 클래스와 `WinningNumber` 클래스를 비교 후 당첨 여부 결정


- 입력 클래스
    - [x] 구입 금액을 입력 받는다
    - [x] 당첨 번호를 입력 받는다
    - [x] 보너스 번호를 입력 받는다


- 출력 클래스
    - [x] 발행한 로또 수량 및 번호를 출력한다
    - [x] 당첨 내역을 출력한다
        - [x] 등수별로 출력
    - [x] 수익률을 출력한다


# 테스트
- Money 클래스 테스트
    - [x] 숫자가 아니면 예외
    - [x] 1000가 아니면 예외
    - [x] 양수가 아니면 예외
    - [x] Integer 변환시 제대로 입력받는지


- WinningNumber 클래스 테스트
    - [x] 숫자가 아니면 예외
    - [x] 정수형이 아니면 예외
    - [x] 양수가 아니면 예외
    - [x] 숫자가 1~45가 아니면 예외
    - [x] 숫자가 6개가 아니면 예외


- Lotto 클래스 테스트
    - [x] 6개가 아니면 예외
    - [x] 범위를 벗어나면 예외
    - [x] 중복된 숫자가 있으면 예외


- BonusNumber 클래스 테스트
    - [x] 숫자가 아니면 예외
    - [x] 양수가 아니면 예외
    - [x] 범위를 벗어나면 예외
    - [x] 정수가 아니면 예외
    - [x] Integer 변환시 제대로 입력받는지


# 2024년 11월 1일 1시 26분 1차 개발 시작
# 2024년 11월 1일 2시 57분 1차 개발 종료 (1시간 31분)
# 2024년 11월 1일 18시 40분 2차 개발 시작
# 2024년 11월 1일 20시 18분 2차 개발 종료 (1시간 38분)
# 2024년 11월 3일 15시 50분 3차 개발 시작
# 2024년 11월 3일 17시 26분 3차 개발 종료 (1시간 36분)
