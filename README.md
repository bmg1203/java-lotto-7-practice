# java-lotto-precourse

# 로또 발매기

## 프로젝트 설명
이 프로젝트는 로또 구입 금액과 당첨 번호 및 보너스 번호를 입력받고, 구매한 만큼 랜덤하게 로또 번호를 생성하여 당첨 번호와 비교하는 간단한 로또 발매기를 구현하는 것입니다.

## 구현할 기능 목록

### 1. 프로그램 시작 및 예외 처리 루프
- **기능**: 프로그램이 시작되면, 메인 루프에서 `IllegalArgumentException` 예외가 발생할 경우 예외 메시지를 출력하고 입력을 다시 받습니다.
- **예외 처리**: `IllegalArgumentException`이 발생할 때마다 오류 메시지를 출력한 후, 정상적으로 프로그램이 종료될 때까지 반복됩니다.
- **관련 메서드**:
  - `main()`: 프로그램의 진입점으로, 예외가 발생하면 메시지를 출력하고 `run()` 메서드를 반복 호출합니다.
  
### 2. 전체 실행 흐름 제어
- **기능**: 프로그램의 전체 실행 흐름을 제어하는 `run()` 메서드에서 구매 금액 입력, 로또 번호 생성, 당첨 번호 입력, 보너스 번호 입력, 결과 계산, 통계 출력을 순차적으로 실행합니다.
- **관련 메서드**:
  - `run()`: 프로그램의 주요 로직을 단계별로 실행하며, 각 기능을 순차적으로 호출합니다.

### 3. 구매금액 처리
- **기능**: 사용자가 입력한 구매 금액을 정수로 변환하고, 1000원 단위로 로또 구매 수량을 계산합니다.
- **예외 처리**:
  - **숫자 형식 오류**: 숫자가 아닌 값이 입력되면 `NumberFormatException`을 발생시켜 `[ERROR] 잘못된 입력입니다. 숫자를 입력해 주세요.` 메시지를 출력합니다.
  - **최소 금액 오류**: 구매 금액이 1000원 미만일 경우 `[ERROR] 로또는 1장에 1000원입니다.` 메시지를 출력하고 예외를 발생시킵니다.
- **관련 메서드**:
  - `parsePurchaseAmount(String input)`: 입력값을 정수로 변환하며, 숫자가 아닌 경우 예외를 발생시킵니다.
  - `checkMinimumPurchaseAmount(int cost)`: 구매 금액이 1000원 이상인지 확인합니다.

### 4. 로또 번호 생성
- **기능**: 구매 금액에 따라 무작위 로또 번호(1~45 범위의 고유한 숫자 6개)를 생성합니다. 각 로또 번호는 생성 후 정렬하여 출력합니다.
- **관련 메서드**:
  - `getLottoNumbers(int num)`: 구매한 로또 수량에 맞게 번호를 생성하고 출력합니다.
  - `initializeLottoBoxes(int num)`: 구매한 수량만큼 빈 로또 리스트를 생성합니다.
  - `lottoRandomizer()`: 각 로또 번호를 생성하여 리스트로 반환합니다.

### 5-1. 당첨 번호 및 보너스 번호 입력 처리 - 당첨 번호 입력
- **기능**: 사용자로부터 당첨 번호 6개를 입력받아 유효성을 검사하고 리스트로 변환합니다. 입력값은 콤마(,)로 구분되며, 중복이 없어야 하고 각 숫자는 1~45 사이여야 합니다.
- **예외 처리**:
  - **숫자 형식 오류**: 각 값이 숫자가 아닐 경우 `[ERROR] 숫자로 입력해 주세요.` 메시지를 출력합니다.
  - **숫자 개수 오류**: 숫자가 6개가 아닐 경우 `[ERROR] 로또 번호는 6개의 숫자로 구성되어야 합니다.` 메시지를 출력합니다.
  - **범위 오류**: 각 숫자가 1에서 45 사이가 아닐 경우 `[ERROR] 로또 번호는 1에서 45 사이의 숫자여야 합니다.` 메시지를 출력합니다.
- **관련 메서드**:
  - `parseLottoNumbers(String line)`: 입력된 문자열을 개별 숫자로 변환하여 리스트로 반환합니다.
  - `validateLottoNumbersLength(String[] lottoNumbers)`: 숫자 개수가 정확히 6개인지 확인합니다.
  - `convertLottoNumbers(String[] lottoNumbers)`: 문자열 배열을 정수 리스트로 변환하며 개별 숫자를 검사합니다.

### 5-2. 당첨 번호 및 보너스 번호 입력 처리 - 보너스 번호 입력
- **기능**: 사용자로부터 보너스 번호 1개를 입력받고, 숫자가 1~45 범위에 있는지 확인합니다.
- **예외 처리**:
  - **숫자 형식 오류**: 보너스 번호가 숫자가 아닐 경우 `[ERROR] 보너스 번호는 숫자로 입력해 주세요.` 메시지를 출력합니다.
  - **범위 오류**: 보너스 번호가 1~45 사이가 아닌 경우 `[ERROR] 보너스 번호는 1에서 45 사이의 숫자여야 합니다.` 메시지를 출력합니다.
- **관련 메서드**:
  - `getValidBonusBall()`: 보너스 번호 입력을 받고 유효성을 검사합니다.
  - `parseBonusBall(String input)`: 입력값을 정수로 변환하며, 숫자가 아닌 경우 예외를 발생시킵니다.
  - `validateBonusBallRange(int bonusBall)`: 보너스 번호가 1에서 45 사이인지 확인합니다.

### 6. 결과 계산 및 통계 출력
- **기능**: 생성된 로또 번호들과 당첨 번호, 보너스 번호를 비교하여 일치 개수에 따라 당첨 여부를 계산하고 통계를 출력합니다.
- **상금 계산**:
  - 6개 일치: 20억 원
  - 5개 일치 + 보너스 번호 일치: 3천만 원
  - 5개 일치: 150만 원
  - 4개 일치: 5만 원
  - 3개 일치: 5천 원
- **수익률 계산**: `(총 상금 / 구매 금액) * 100`의 형태로 수익률을 계산합니다.
- **관련 메서드**:
  - `checkLottoResults(List<List<Integer>> lottoBoxes, Lotto lotto, int bonusBall, int num)`: 당첨 번호와 로또 번호를 비교하여 일치 개수를 확인합니다.
  - `countWinningMatches(int size, int[] cnt, boolean bonusResult)`: 일치 개수에 따라 당첨 내역을 업데이트합니다.
  - `printWinningSummary(int[] cnt)`: 각 등수별 당첨 개수와 상금을 출력합니다.
  - `getTotalWinnings(int[] cnt, int num)`: 당첨금 합계를 계산하여 수익률을 출력합니다.
  - `getReturnOnInvestment(int total, int cost)`: 총 상금 대비 수익률을 계산하여 반환합니다.

### 7. 결과 출력
- **기능**: 당첨 결과와 수익률을 출력합니다. 각 등수별 당첨 개수와 상금 내역, 최종 수익률을 상세히 표시하여 사용자에게 결과를 제공합니다.
- **관련 메서드**:
  - `printWinningSummary(int[] cnt)`: 당첨 통계와 상금 내역을 출력합니다.
  - `getTotalWinnings(int[] cnt, int num)`: 최종 수익률을 계산하고 출력합니다.
