# java-lotto-precourse

자동차경주 어플리케이션의 패키지 구조, 구현 기능 목록, 주의사항, 애매한 동작에 대한 커스텀규칙을 정리한 문서.

## 1. 패키지 구조

```
lotto
  Application   // 프로그램 전반의 실행과 종료의 책임을 가진 클래스
  - common          // 앱의 관심사 외부라고 판단되는 기능
    - util              // 그 중 앱의 어떤 계층/객체에서나 활용할 수 있는 기능의 집합
    - view              // 그 중 앱의 view 계층/객체에서 활용될 만한 기능의 집합
  - lottoapp        // 앱이 수행하고자 하는 핵심 관심사 기능
    - view              // 그 중 앱과 관련된 사용자 인터페이스 입출력 기능 객체의 집합
    - controller        // 그 중 핵심 관심사의 실행과 제어 책임을 가진 객체의 집합 
    - business          // 그 중 핵심 모델의 실행과 제어 책임을 가진 객체의 집합
    - model             // 그 중 핵심 관심사를 단일 책임으로 분리하여 담당하는 작은 객체들의 집합
      - value               // 그 중 값으로 식별되는 값객체들의 집합
```

- **단일한 책임의 작은 객체**로 프로그램을 구성하려 시도
- 그러다 보니 자연스럽게 깊은 depth의 패키지부터 작성
- 따라서 쉬운 기능 파악을 위해서는 하위 패키지의 클래스부터 읽는 것을 권장 (위 목록의 아래부터 위로)

## 2. 구현 기능 목록

- [x] `로또숫자`는 1~45 범위로 입력된다.
- [x] `(발행된)로또`는 중복되지 않는 6개의 `로또숫자들`로 이루어진다.
    - [x] `로또숫자들`은 6개이고 중복되지 않으며 오름차순이다.
- [x] `당첨번호`는 중복 없는 `로또숫자들`과 `보너스 로또숫자` 1개로 이루어진다.
    - [x] `보너스 로또숫자`도 또한 `로또숫자`이다.
    - [x] `로또숫자들`과 `보너스 로또숫자`는 중복되지 않는다.
- [x] `당첨번호`와 `로또`를 비교하면 `당첨결과`를 알 수 있다.
    - `당첨결과`에는 1~5등과 낙첨이 포함된다.
    - 당첨결과의 내용: 1~5등 || 탈락
    - 상금이 주어진다
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 + 보너스 일치 / 30,000,000원
    - 3등: 5개 일치 / 1,500,000원
    - 4등: 4개 일치 / 50,000원
    - 5등: 3개 일치 / 5,000원
- [x] `로또들`은 로또 여러개로 구성된다. `원화`를 주고 살 수 있다.
    - [x] `원화`는 돈의 단위이며, 0 또는 양의정수다.
    - [x] `원화`는 덧셈/나머지연산이 가능하다.
    - [x] 구매한 `로또들`의 번호를 `로또숫자들` 별로 얻을 수 있다.
    - [x] 지불한 `원화`와 구매한 `로또들`의 `당첨결과` 상금`원화`의 누적액으로 `수익률`을 계산할 수 있다.
- [x] `로또숫자들`은 랜덤라이브러리를 통해 생성된다.
- [x] 요구사항에 맞게 입력받는다.
- [x] 요구사항에 맞게 출력한다.

## 3. 주의사항

잊기 쉬운 제한사항과 얼핏 헷갈리지만 문서에 명확한 근거가 있어 해결되는 점을 기록한다.

```markdown
- (주의할 내용)
    - (근거가 되는 문구)
```

의 형태로 기록한다.

- 예외 발생 시, 예외 발생 부분부터 재시도 할 수 있도록 처리해야 함.
- 구입 금액이 1000원 단위로 나눠떨어지지 않으면 예외 발생.
- `당첨번호`에서 당첨번호 6개와 보너스 번호 간에도 중복이 없어야 한다.
    - 그러지 않으면 2등/3등을 판별할 수 없는 경우가 발생.
- `당첨결과`의 평가는 항상 2등을 먼저 평가해야 한다.
    - 위의 항목과 같은 이유.

## 4. 애매한 동작에 대한 커스텀 규칙 정의

동작의 근거가 명확히 정의되지 않은 문제에 대해, 어떻게 동작할 지 소신껏 규칙을 정하여 기록한다.

```markdown
- (문제가 되는 내용)
    - (스스로 정한 동작 규칙 또는 그렇게 생각한 이유1)
    - (스스로 정한 동작 규칙 또는 그렇게 생각한 이유2)
      ...
    - (스스로 정한 동작 규칙 또는 그렇게 생각한 이유n)
```

의 형태로 기록한다.

- 로또번호는 항상 오름차순으로 정렬한다.
    - `당첨번호`나 `(발행된)로또`의 순서가 달라도 같은 로또로 평가되어야 한다. 이를 강조하기 위해 정렬한다.
- 당첨결과를 위한 순서를 따로 지정한다.
    - 현재 enum으로 당첨결과 목록을 작성해두었는데, 단순히 `#values`로 조회하면 enum 필드 작성 순서에 의존하는 코드가 된다.