# java-lotto-precourse


# 미션 진행 과정

## 의식해야 하는 목표와 방향 설정(이번주에 신경쓰려 하는 부분)
- 시간과 일의 단위를 잘게 쪼개고 현재 목표에 집중하자
    - 잘개 쪼갠 것을 바탕으로 계속해서 피드백을 받고 동기부여를 받아 나아가자
- 추상화를 언제까지 할지 구체화를 언제부터 할지 생각하자
    - 설계를 언제까지 하고 구현을 시작할지 생각하자
    - 구현(구체적)을 하면서 추상적인 부분에서 보이지 않던 곳을 찾고 이를 통해 힌트를 얻어 더욱 좋은 설계로 나아가자
- 자바 API를 활용하여 생산성 향상 및 가독성 있게 개선하는 것이 목표
    - Stream API, 람다, 메서드 참조
    - Optional
    - Record
    - TextBlock, String Templates(사용불가)
- commit 메시지 명확하게 개선 및 협업의 관점에서 commit 작성하자
- 클린 코드 지향 함으로써 더욱 좋은 가독성을 만들자
    - 변수명, 메서드명 명확히 하기
    - 값 하드 코딩 하지 않기
    - 구현 순서 지키기(클래스는 상수, 멤버 변수, 생성자, 메서드 순으로 작성)
- 함수 분리 하여 가독성, 재사용성 증가시키자
    - 한 메서드가 한가지 기능만 담당하게 하기(한가지 기능을 하는 기준 세우기)
    - 15라인이 넘지 않게 의식하기
- 좋은 테스트란 무엇인가 생각해보자
    - 한번에 좋은 테스트를 만들려고 하지말고 하나씩 적용해보기
    - 어느정도의 테스트를 가져가야 할지 트레이드 오프 생각해보기(구체적 or 추상적)
- 객체가 협력하여 한 큰 기능을 수행하는게 무엇인지 인지하자
    - 객체란 무엇인가?
    - 객체지향이란 무엇인가?
    - 왜 객체지향을 사용하는가?
    - 객체지향은 어떻게 해야 하는가?
- Enum이 무엇인지 언제 사용하면 좋은지 인지하기
- else 예약어 왜 쓰지 말아야 하는지 인지하기


## 게임 진행 흐름
1. 로또 구입 금액 입력
    1. 1000원 단위 숫자 입력하지 않을 시 다시 입력
2. 구매 내역 출력
3. 당첨 번호 입력
    1. 1부터 45사이의 중복된 숫자 6개를 입력하지 않을 시 다시 입력
4. 보너스 번호 입력
    1. 1부터 45사이의 중복된 숫자 1개를 입력하지 않을 시 다시 입력(이전에 입력한 당첨번호와도 중복되면 안된다)
5. 로또 구매
6. 로또 구매 내역 출력


## 요구사항 정리
### 핵심 요구 사항
- [x] 로또 구매 기능
- [x] 로또 결과 계산 기능

### 입력 요구 사항
- [x] 로또 구입 금액 입력
- [x] 당첨 번호 입력
- [x] 보너스 번호 입력

### 출력 요구 사항
- [x] 구매 내역 출력
- [x] 당첨 통계 출력
  - [x] 수익률은 소수점 둘째 자리에서 반올림


### 에러 처리 요구 사항
- [x] 로또 구입 금액 입력 시 1000원 단위 숫자가 아니라면 에러 발생
- [x] 당첨 번호 입력 시  1부터 45사이의 중복된 숫자 6개를 입력하지 않을 시 에러 발생
- [x] 보너스 번호 입력 시 당첨 번호와 중복되고 1부터 45 사이를 입력하지 않을 시 에러 발생

```agsl
예외 상황 시 에러 문구를 출력해야 한다. 단, 에러 문구는 "[ERROR]"로 시작해야 한다.
```


## 고민한 점
### 수익률은 어떤 객체가 책임지는게 좋을까?
1. WinningLotto
2. LottoMachine
3. 새로운 객체 => LottoStatistics

객체지향은 책임을 분산하는 것이라 생각한다. 적절하게 책임을 분산하여야하고 또한 단일 책임 원칙을 지키는 것이 좋다  
그럼 어떤 객체가 가지는게 좋을까?  
WinningLotto라고 생각 했으나 LottoStatistics를 생성하여 책임을 분리하는 것이 더 좋지 않을까 생각을 했다.  
왜냐하면 수익률에 대한 변화를 주려함 winning lotto가야 하고,당첨결과에 대해 변화를 주려함 winning lotto가야하는 두가지의 책임을 지고 있다란 생각이 들었기 떄문이다.
그러나 이런 생각도 들긴한다. WinningLotto에서 결과를 반환해줄떄 당첨결과이니 몇등 맞았는지와 총 당첨 금액을 같이 반환해주는건 어떨까 생각한다. 

### money는 어떤 객체가 들고 있는게 좋을까?
1. Application
2. LottoMachine
3. 새로운 객체(LottoMoney)

리팩토링 과정에서 로또 구매를 추상화 시키니 수익률 계산시 필요한 로또 구매 금액이 추상화 되었다.  
해결책을 생각하다보니 3가지의 해결책이 나오게 되었는데, Application에 전역변수로 가지고 있기 또는 LottoMachine이 구입 금액을 들고 있기라는 생각이 떠오르게 되었다.
적절한 책임이 누구인가 생각 했을때 LottoMachine은 로또를 생성하는 책임이지 구매금액에 대한 책임을 가지는 것은 별로라는 생각이 들었고, LottoMoney라는 객체를 만드는게 좋겠다라는 결론에 도달하였다.
LottoMoney는 Lotto에 관한 1000원단위의 책임과 금액에 대한 책임을 짊어지게 할 수 있어 좋은 선택이라 생각하였다.

### 구매 개수에 대한 책임은 누구에게?
1. LottoMoney
2. LottoMachine

현재는 LottoMoney에게 구매 수량을 알려달라는 식으로 구현되어 있다. Lotto 구매 금액에 대한 것을 알고 있으므로 구매 개수에 대한 책임이 있다 생각 했으나 LottoMachine에게 책임을 주어도 이상하지 않을 것 같다.  
왜냐하면 보통 금액을 입력하면 기계가 몇장을 구매할지 판단해서 생성해서 주기 떄문인데 이렇게 쓰다보니까 몇장을 구매할지 구하는 책임, 생성하는 책임 두가지가 있다 판단된다.
그래서 LottoMachine을 생성할 책임만을 준다면 LottoMoney가 맞는것 같기두 하구.. 잘 모르겠따.


## 리뷰하면서 집중할점
1. 당첨결과에 대한 테스트 구체적으로 했는지 추상적으로 했는지 어떤 방법으로 했는지 비교하기(장단점)
2. 고민한 부분에서 작성한거 어떻게 책임을 나눴나 살펴보기

## 전주보다 개선된됬지만 더 개선해야할 부분
- 좀 더 좋은 테스트 코드를 작성하긴 했지만 개선할 부분이 있다
  - 기능 구현 후 테스트 작성하는 flow로 개선하기
- 기능 요구사항 도출 방식 바꿔보기
  - 간단하게 기능 요구사항 도출하고 전체를 구현한다음에 구체적인 것을 바탕으로 분리를 하였는데, 4주차에는 객체지향 설계를 진행해보고 이후 기능 요구사항을 업데이트하는식으로 개선해보자