# java-lotto-precourse

# 🍀 로또 발매기 🍀

## For Lottery Buyers 💵
> 안녕하세요! <br>
> 로또 발매기를 이용해주셔서 감사합니다.<br>
> 이용하시기 전, 저희 로또 발매기의 사용법을 소개하겠습니다.<br>

### <span style="color:lightseagreen">1. 수동 옵션이 없고, 자동 발매만 가능합니다.</span>
원하시는 구매 금액을 입력해주세요. 로또 한 장에 `1000원`입니다!<br>

구매 한도는 `100억 원`입니다. 100억 원 이상 구매는 불가능합니다. 원활한 시스템 운영을 위한 제한사항이니 양해 부탁드립니다.<br>
`100억 원 이상 구매하시는 분은 없으시겠죠? 😎💰`<br>

구매가 완료되면 발매기에서 자동으로 로또를 발매합니다. 
직접 숫자 입력은 불가능하니 하늘에 맡겨보세요! 🌞

아래와 같이 발매된 로또 현황을 바로 확인할 수 있으니 참고해주세요.
```
8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
[7, 11, 16, 35, 36, 44] 
[1, 8, 11, 31, 41, 42] 
[13, 14, 16, 38, 42, 45] 
[7, 11, 30, 40, 42, 43] 
[2, 13, 22, 32, 38, 45] 
[1, 3, 5, 14, 22, 45]
```
잠시 기다려주시면, 이번 회차 당첨 번호 추첨 결과가 나옵니다.
> 참고 사항
>  * 로또 한 장 가격을 단위로 입력해주세요. 즉, 한 장 가격인 `1000`원으로 나누어 떨어지는 금액 입력 부탁드립니다.
>  * 금액 외에 다른 문자 입력 시 입력에 실패합니다.
>  * `10`자리를 초과하는 금액 입력은 제한합니다. 즉, `9,999,999,000`원까지 구매 가능합니다.
>  * 금액 입력에 실패하셔도 다시 입력 가능합니다.

<br>

### <span style="color:lightseagreen">2. 당첨번호가 나오면 바로 결과를 확인하실 수 있습니다.</span> 
저희 로또 발매기의 당첨 기준은 아래와 같습니다.
```markdown
1등 (상금 2,000,000,000원) : 숫자 6개 모두 일치
2등 (상금 30,000,000원) : 숫자 5개 일치 & 불일치한 나머지 1개 번호가 보너스 번호와 일치
3등 (상금 1,500,000원) : 숫자 5개 일치 & 불일치한 나머지 1개 번호가 보너스 번호와 불일치
4등 (상금 50,000원) : 숫자 4개 일치
5등 (상금 5,000원) : 숫자 3개 일치
```
> 참고사항
> - 보너스 번호는 기본 당첨 번호 중 `5`개와 일치할 때만 확인해주시면 됩니다.
> <br> 5개가 일치할 때 보너스 번호가 일치하면 `2등`, 불일치하면 `3등`입니다.
> - 그 외의 경우, 보너스 번호와의 일치 여부는 _효력을 갖고 있지 않습니다._

위 기준에 따라 바로 당첨 결과를 안내드립니다. 결과 화면은 아래와 같습니다.
```
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
```
<br>

### <span style="color:lightseagreen">3. 저희 로또 발매기만의 특별한 점!</span>
아래와 같이 `수익률`을 함께 알려드립니다.<br>
손쉽게 나의 손익 상태를 확인해보세요!<br>
```
총 수익률은 62.5%입니다.
```
> 참고 사항
> - 수익률은 (총 당첨 금액) / (총 구매 금액) 을 백분율로 계산합니다.
> - 소수점 둘째 자리에서 반올림하여 추산합니다.

그럼, 행운을 빕니다! 🍀

<br>

---

## For Lottery Drawers 🎱
> 이번 회차 로또 당첨번호 뽑기의 주인이 되신 걸 환영합니다!<br>
> 어떤 숫자를 뽑느냐에 따라 많은 구매자분들의 운명이 결정되니 신중한 결정 부탁드립니다.<br>
> 당첨 번호 뽑기에 앞서, 이용 방법을 간단히 소개드리겠습니다.

### <span style="color:lightseagreen">1. 당첨 번호를 입력해주세요.</span>
당첨 번호 6개를 입력해주세요. 입력 예시입니다.
```
1,2,3,4,5,6
```
> 참고 사항
> - 각 숫자는 `1` 이상 `45` 이하의 정수로 입력해주세요.
> - 반드시 `6`개의 숫자를 입력해주세요.
> - 숫자 간 구분은 `,` 로 부탁드립니다.
> - 숫자와 구분자 외의 다른 문자나 띄어쓰기는 오판의 소지가 있으므로 제한합니다. 
> <br> 대신, 숫자와 숫자 사이의 띄어쓰기는 허용합니다. (ex. `1, 2, 3, 4, 5, 6`)
> - 서로 중복되지 않는 수로 입력해주세요.
> - 입력에 실패할 경우 다시 입력할 수 있습니다.

<br>

### <span style="color:lightseagreen">2. 보너스 번호를 입력해주세요.</span>
보너스 번호 1개를 입력해주세요. 입력 에시입니다.
```
7
```
> 참고 사항
> - `1` 이상 `45` 이하의 정수를 1개만 입력해주세요.
> - 숫자 외의 다른 문자나 띄어쓰기는 오판의 소지가 있으므로 제한합니다.
> - 앞선 6개의 당첨 번호와 중복되지 않는 수로 입력해주세요.
> - 입력에 실패할 경우 다시 입력할 수 있습니다.

사용자님의 선택이 누군가에게 좋은 결과가 되기를 바랍니다. 그럼 굿초이스! 🍀
<br><br>

---

## For Developers 🧑‍💻
> 안녕하세요! <br>
> 이번 로또 발매기 서비스를 제작하게 된 이채영입니다.<br>
> 아래 기능 목록을 작성했으니, 소스 코드와 함께 확인하여 주시면 감사하겠습니다.

| 완료여부 | 구분 | 주기능                      | 주기능정의                                 | 세부기능                                                                                                                                                                                                                            | 예외흐름                                                                                                                                     |
| --- | --- |--------------------------|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| ✅ | **1. 로또 구매** | **1.1 로또 구입 금액 입력**      | 로또 구입 금액을 입력한다.                       | - `구입금액을 입력해 주세요.` 안내 문구 출력 후 사용자의 입력을 받는다. <br>- 사용자는 로또 1장 가격(1000)으로 나누어떨어지는 양의 정수를 입력한다. <br>- `1.2`로 간다.                                                                                                                   | - 이때, 아래 상황에서 예외 메세지가 출력되고 `1.1`을 다시 시작한다. <br>**1. 빈 값일 때** <br>**2. 양의 정수가 아닐 때** <br>**3. 금액이 10자리를 초과할 때**                                       |
| ✅ |  | **1.2 로또 구입 개수 확인**      | 구입 금액에 해당하는 개수를 구한다.                  | - 구입 금액을 1000으로 나누어 개수를 구한다. <br>- `1.3`로 간다.                                                                                                                                                                                   | - 이때, 아래 상황에서 예외 메세지가 출력되고 `1.1`로 간다. <br>**1. 1000으로 나누어 떨어지지 않을 때**                                                                        |
| ✅ |  | **1.3 로또 발행**            | 구입 개수만큼의 로또를 자동 발행한다.                 | - 로또 1장 당 1~45 사이의 중복되지 않은 정수를 6개 뽑아 발행한다.                                                                     <br>- `1.4`로 간다.                                                                                                 |                                                                                                                                          |
| ✅ |  | **1.4 발행된 로또 모두 출력**     | 발행된 로또 수량 및 번호를 콘솔에 출력한다.             | - `n개를 구매했습니다.` 문구를 출력한다. <br>- 발행한 로또 번호를 한 줄에 한 장씩 출력한다. <br>- 이때 한 장의 로또번호는 `[`와 `]`로 감싸져 있으며, 각 숫자는 `,` 으로 구분한다. <br>- `2.1`로 간다.                                                                                           |                                                                                                                                          |
| ✅ | **2. 당첨번호 및 보너스번호 추첨** | **2.1 당첨 번호 입력**         | 당첨 번호 6개를 입력한다.                       | - `당첨 번호를 입력해 주세요.` 안내 문구 출력 후 사용자의 입력을 받는다. <br>- 사용자는 1~45 사이의 서로 중복되지 않는 정수 6개를 입력한다. 번호는 `,`를 기준으로 구분한다. <br>- `2.2`로 간다.                                                                                                   | - 이때, 아래 상황에서 예외 메세지가 출력되고 `2.1`을 다시 시작한다. <br>**1.  빈 값일 때**                                                                                |
| ✅ |  | **2.2 당첨 번호 저장**         | 당첨 번호 6개를 확인하고 저장한다.                  | - 당첨 번호 6개를 각각 저장한다.                                                                                                                                <br>- 번호와 번호 사이에 띄어쓰기를 한 경우는 허용한다. (ex. `1,2,3, 4,35 ,6`) <br> - `2.3`로 간다. | - 이때, 아래 상황에서 예외 메세지가 출력되고 `2.1` 로 돌아간다. <br>**1. 입력한 번호가 6개가 아닐 때** <br>**2. 1~45 사이의 정수 이외의 문자가 섞여 있을 때 (번호 중간의 띄어쓰기 포함)** <br>**3. 중복된 번호가 있을 때** |
| ✅ |  | **2.3 보너스 번호 입력**        | 보너스번호 1개를 입력한다.                       | - `보너스 번호를 입력해 주세요.` 안내 문구 출력 후 사용자의 입력을 받는다. <br>- 사용자는 1~45 사이의 당첨번호 6개와 중복되지 않는 정수 1개를 입력한다. <br>- `2.4`로 간다.                                                                                                                | - 이때, 아래 상황에서 예외 메세지가 출력되고 `2.3`을 다시 시작한다. <br>**1. 빈 값일 때** <br>**2. 양의 정수가 아닐 때**                                                              |
| ✅ |  | **2.4 보너스 번호 저장**        | 보너스 번호 1개를 확인하고 저장한다.                 | - 보너스 번호 1개를 저장한다. <br>- `3.1`로 간다.                                                                                                                                                                                             | - 이때, 아래 상황에서 예외 메세지가 출력되고, `2.3`으로 돌아간다. <br>**1. 1~45 사이의 정수가 아닐 때** <br>**2. 앞선 당첨 번호 6개 중 중복된 번호가 있을 때**                                     |
| ✅ | **3. 당첨 확인** | **3.1 당첨 번호와의 일치 개수 확인** | 각각의 발행한 로또 번호 6개 중 당첨번호와 일치한 개수를 확인한다. | - 각각의 발행한 로또 번호 6개 중 당첨 번호와 일치한 개수를 확인한다. <br>- 이때 개수가 5개라면, `3.2`로 간다. <br>- 그렇지 않으면 `3.3`로 간다.                                                                                                                                |                                                                                                                                          |
| ✅ |  | **3.2 보너스 번호와의 일치 여부 확인** | 로또의 번호가 보너스 번호와 일치하는지 확인한다.           | - 로또 번호가 보너스 번호와 일치하는지 확인한다.                                                                                                                                                                                   <br>- `3.3`로 간다. |                                                                                                                                          |
| ✅ |  | **3.3 등수 확인**            | 각각의 발행한 로또의 당첨 여부 및 등수를 저장한다.         | - 각각의 발행한 로또의 당첨 여부, 그리고 당첨되었다면 등수를 확인해 저장한다. <br>- 로또의 가능한 상태에는 `1등`, `2등`, `3등`, `4등`, `5등`, 그리고 `당첨되지 않음` 이 있다. <br>- `4.1`로 간다.                                                                                             |                                                                                                                                          |
| ✅ | **4. 당첨 통계 출력** | **4.1 당첨 개수 출력**         | 일치 번호 개수별 당첨금과 당첨된 로또의 개수를 출력한다.      | - `당첨 통계` 안내문구 출력 후, 일치 번호 개수별 당첨금과 당첨된 로또의 개수를 한 줄에 하나씩 출력한다. <br>- 일치 번호는 1~5등의 것만 취급한다. 즉, 0개, 1개, 2개 일치한 경우는 출력하지 않는다. <br>- 이때, `l개 일치 (m원) - n개` 의 형식으로 출력한다. <br>- `4.2`로 간다.                                            |                                                                                                                                          |
| ✅ |  | **4.2 수익률 계산**           | 총 당첨 금액을 구해서 수익률을 계산한다.               | - 등수 별로 `당첨 금액 * 당첨된 로또 개수`를 구하여 모두 더하여 총 당첨금액을 구한다. <br>- `총 당첨금액 / 총 구입금액 * 100` 을 계산하여 수익률을 구한다. <br>`4.3`로 간다.                                                                                                              |                                                                                                                                          |
| ✅ | | **4.3 수익률 출력**           | 총 수익률을 출력한다.                          | -  수익률을 출력한다. <br> - 이때, 수익률을 소수점 둘째 자리에서 반올림한다. <br>- `총 수익률은 nn.n%입니다.`의 형식으로 출력한다.                                                                                                                                           |

> 사용자가 잘못된 값을 입력할 경우`IllegalArgumentException`이 발생하고, "[ERROR]"로 시작하는 에러 메시지가 출력된다.<br>
> `Exception`이 아닌 `IllegalArgumentException`, `IllegalStateException` 등과 같은 명확한 유형을 처리한다.