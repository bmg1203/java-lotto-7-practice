## **로또 발매기**

**작성자 :** 이찬형  
**프로젝트** : 우아한 테크코스 프리코스 7기 - 3주차 과제
&nbsp;

## 📋 목차

- [📌 프로젝트 소개](#-프로젝트-소개)
- [📂 프로젝트 구조](#-프로젝트-구조)
- [🚀 기능](#-기능)
- [🖥️ 입출력 예시](#-입출력-예시)
    - [입력](#입력)
    - [출력](#출력)
    - [실행 결과 예시](#실행-결과-예시)
- [🚨 예외 사항](#-예외-사항)
    - [구입 금액 입력 오류](#구입-금액-입력-오류)
    - [당첨 번호 및 수량 입력 오류](#당첨-번호-및-수량-입력-오류)
- [🤔 회고](#-회고)

## 📌 **프로젝트 소개**

**1부터 45까지의 숫자 중 6자리를 랜덤하게 뽑아주는 로또 발매기입니다.**

![Java Version](https://img.shields.io/badge/Java-21-blue?style=for-the-badge)  
![Gradle](https://img.shields.io/badge/build%20with-Gradle-green?style=for-the-badge)  
&nbsp;

## 📂 **프로젝트 구조**

⚠️ 아래 구조는 지속적으로 수정/보완될 예정입니다!

```
└── src
    ├── main
    │   └── java
    │      
            └── 
├──README.md
├──build.gradle
```

&nbsp;

## 🚀 **기능**

### 입력 처리 및 검증

- **구입 금액 입력**: 구입 금액은 1,000원 단위로 입력 받으며 로또 1장의 가격은 1,000원 입니다.
- **당첨 번호 입력**: 당 회차 당첨 번호를 쉼표(,) 기준으로 입력 받습니다. 보너스 번호는 추가로 입력 받습니다.
- **잘못된 값 입력**: [ERROR]로 시작하는 에러 메시지가 출력되면 그 부분부터 다시 입력 받습니다.

### 로또 발매

- **번호 발급**: 랜덤하게 중복되지 않는 1부터 45 사이의 숫자 6개와 보너스 번호 1개를 구매 금액에 맞춰 뽑습니다.

### 당첨 확인 및 수익률 계산

- **당첨 테이블**: 당회차 당첨 번호와 구매 내역의 숫자 일치 개수를 금액별로 계산합니다.
- **수익률 계산**: 구매 금액 대비 당첨 금액의 수익률을 계산합니다.

### 출력 처리

- **구매 로또 출력**: 발행한 로또 수량 및 번호를 출력합니다. 로또 번호는 오름차순으로 쉼표(,) 기준으로 정렬하여 출력합니다.
- **당첨 통계 출력**: 테이블과 비교해 당첨 내역을 출력합니다.
- **수익률 출력**: 수익률은 소수점 둘째 자리에서 반올림 해 출력합니다.
- **예외 사항 출력**: 예외 사항 시 [ERROR]로 시작하는 에러 문구를 출력합니다.

&nbsp;

## 🖥️ **입출력 예시**

### **입력**

- 로또 구입 금액을 입력 받는다. 구입 금액은 1,000원 단위로 입력 받으며 1,000원으로 나누어 떨어지지 않는 경우 예외 처리한다.

```
14000
```

- 당첨 번호를 입력 받는다. 번호는 쉼표(,)를 기준으로 구분한다.

```
1,2,3,4,5,6
```

- 보너스 번호를 입력 받는다.

```
7
```

### **출력**

- 발행한 로또 수량 및 번호를 출력한다. 로또 번호는 오름차순으로 정렬하여 보여준다.

```
8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
[7, 11, 16, 35, 36, 44] 
[1, 8, 11, 31, 41, 42] 
[13, 14, 16, 38, 42, 45] 
[7, 11, 30, 40, 42, 43] 
[2, 13, 22, 32, 38, 45] 
[1, 3, 5, 14, 22, 45]
```

- 당첨 내역을 출력한다.

```
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
```

- 수익률은 소수점 둘째 자리에서 반올림한다. (ex. 100.0%, 51.5%, 1,000,000.0%)

```
총 수익률은 62.5%입니다.
```

- 예외 상황 시 에러 문구를 출력해야 한다. 단, 에러 문구는 "[ERROR]"로 시작해야 한다.

```
[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
```

### **실행 결과 예시**

```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
[7, 11, 16, 35, 36, 44] 
[1, 8, 11, 31, 41, 42] 
[13, 14, 16, 38, 42, 45] 
[7, 11, 30, 40, 42, 43] 
[2, 13, 22, 32, 38, 45] 
[1, 3, 5, 14, 22, 45]

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

&nbsp;

## 🚨 **예외 사항**

프로젝트에서 다음과 같은 경우 **예외**가 발생할 수 있습니다.

### **구입 금액 입력 오류**

- 구입 금액이 1,000원 단위가 아닌경우.
- 구입 금액이 양의 정수가 아닌 경우.
- 구입 금액에 숫자가 아닌 값이 입력될 경우.

### **당첨 번호 및 수량 입력 오류**

- 당첨 번호가 1부터 45 사이의 정수가 아닌 경우.
- 숫자가 아닌 값이 입력될 경우.
- 양의 정수가 아닌 경우.

예외 발생 시, `[ERROR]`로 시작하는 오류 메시지를 출력하고 다시 입력을 받습니다. 이를 통해 사용자가 잘못된 입력을 수정할 수 있도록 돕습니다.

### 다음 상황은 예외가 아닙니다.

- 동일한 번호의 로또가 여러장 발매된 경우.

&nbsp;

## 🤔 **회고**

### 프로젝트 회고

이번 프로젝트에서는 디렉토리 구조를 나누고 `exception`과 `validator`를 분리하여 책임을 분리하려 했습니다.
도메인(Car,Dto...)을 별도로 분리해야 할지에 대해 많이 고민했지만 이번 프로젝트에서 현재 구조를 유지하기로 결정했습니다.

&nbsp;