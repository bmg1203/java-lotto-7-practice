<div align="center">

<h1>java-lotto-precourse</h1>

<br />

</div>

<br />

## 학습 목표
```markdown
📝 관련 함수를 클래스로 묶어, 객체들이 협력하여 하나의 큰 기능을 수행하도록 구성한다.
📝 클래스와 함수에 대한 단위 테스트를 통해 기능의 정확성을 확보한다.
📝 2주 차 공통 피드백을 최대한 반영하여 개선한다.
```

<br />

# 목차

### [0. 요구사항 분석](#요구사항-분석)

### [1. 구현](#구현)

### [2. 테스트](#테스트)

### [3. 실수 회고](#실수-회고)

<br />

# 요구사항 분석

## 과제 진행 요구사항
1. 미션은 로또 저장소를 포크하고 클론하는 것으로 시작
2. 기능 구현 전 README.md에 구현할 기능 목록을 작성하고 커밋 단위를 설정
3. AngularJS Git Commit Message Conventions을 참고하여 커밋 메시지를 작성
4. JDK 21 환경에서 실행되도록 구현하고, 프로그램의 시작점은 `Application`의 `main()` 메서드로 설정

## 기능 요구사항
> 간단한 로또 발매기를 구현
- 로또 구입 및 발행
  - 로또 번호는 1~45 범위의 중복되지 않은 6개의 숫자로 구성된
  - 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 무작위로 설정
  - 사용자는 로또 구입 금액을 입력하며, 구입 금액에 따라 발행할 로또의 수량이 결정
  - 로또 1장의 가격은 1,000원이며, 구입 금액은 반드시 1,000원 단위
  - 구입 금액을 1,000원으로 나눈 값에 해당하는 만큼 로또 티켓을 발행
- 당첨 번호 및 보너스 번호
  - 당첨 번호 추첨 시, 중복되지 않는 숫자 6개와 보너스 번호 1개를 입력
  - 당첨 번호와 보너스 번호는 사용자 입력을 통해 설정
- 당첨 기준 및 상금
  - 당첨은 1등부터 5등까지 있으며, 등수에 따른 상금
    - 1등: 6개 번호 일치 → 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 → 30,000,000원
    - 3등: 5개 번호 일치 → 1,500,000원
    - 4등: 4개 번호 일치 → 50,000원
    - 5등: 3개 번호 일치 → 5,000원
- 당첨 결과 확인
  - 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 각 등수에 맞는 당첨 내역을 계산
  - 당첨 내역에 따라 총 수익률을 계산하여 출력
  - 수익률은 소수점 둘째 자리에서 반올림하여 출력 (예: 62.5%).
- 에러 처리
  - 사용자가 잘못된 값을 입력할 경우, IllegalArgumentException을 발생
  - Exception이 아닌 IllegalArgumentException, IllegalStateException 등과 같은 명확한 유형을 처리
  - 에러 메시지는 [ERROR]로 시작해야 하며, 해당 에러 이후부터 입력을 다시 받는다.
  - 가능한 예외 상황
    - 로또 번호 범위 오류: 번호가 1~45 범위를 벗어난 경우
    - 중복 번호 오류: 로또 번호나 보너스 번호가 중복되는 경우
    - 구입 금액 오류: 구입 금액이 1,000원 단위가 아닐 경우

## 프로그래밍 요구사항
- `indent` depth는 2까지만 허용
- 3항 연산자 사용 불가
- `System.exit()` 호출 불가
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현
  - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현
- `JUnit 5`와 `AssertJ`를 이용해 단위 테스트를 작성하고, 구현한 기능을 테스트로 검증
  - 작은 단위 테스트부터 작성 후, 큰 단위 테스트를 작성
- Java Enum을 적용하여 프로그램을 구현
- else 예약어 사용 불가
  - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 switch/case도 사용 불가
  - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 가능
- `camp.nextstep.edu.missionutils`에서 제공하는 `Randoms` 및 `Console` API를 사용하여 구현
  - Random 값 추출은 `camp.nextstep.edu.missionutils.Randoms`의 `pickUniqueNumbersInRange()`를 활용
  - 사용자가 입력하는 값은 `camp.nextstep.edu.missionutils.Console`의 `readLine()`을 활용
- `Lotto` 클래스를 수정하여 구현하되, `numbers` 필드 외에는 추가 필드를 추가할 수 없음

<br />

# 구현

## 구현해야 할 기능 목록

### 1. **입력 및 유효성 검사**
- [ ] **로또 구입 금액 입력**
  - [ ] 사용자가 구입 금액을 입력받고, 구입 금액이 1,000원 단위인지 확인한다.
  - [ ] 구입 금액이 1,000원 단위가 아니면 IllegalArgumentException을 발생시키고 `[ERROR]` 메시지 출력 후 재입력 받는다.
- [ ] **당첨 번호와 보너스 번호 입력**
  - [ ] 사용자로부터 당첨 번호 6개를 입력받고, 중복되지 않고 1~45 범위 내의 값인지 확인한다.
  - [ ] 보너스 번호를 입력받고, 당첨 번호와 중복되지 않으며 1~45 범위 내의 값인지 확인한다.
  - [ ] 유효성에 어긋나는 경우 IllegalArgumentException을 발생시키고 `[ERROR]` 메시지 출력 후 재입력 받는다.

### 2. **로또 발행 및 번호 생성**
- [ ] **로또 티켓 수량 계산**
  - [ ] 사용자가 입력한 구입 금액에 따라 발행할 로또 티켓 수량을 계산한다. (예: 8,000원 입력 시 8장 발행)
- [ ] **로또 번호 생성**
  - [ ] 각 로또 티켓마다 중복되지 않은 6개의 번호를 1~45 범위에서 무작위로 생성한다.
  - [ ] `Randoms.pickUniqueNumbersInRange()` 함수를 사용하여 번호를 생성하고, 로또 번호는 오름차순으로 정렬하여 출력한다.
- [ ] **로또 티켓 출력**
  - [ ] 발행된 모든 로또 티켓의 번호를 콘솔에 출력한다.

### 3. **당첨 확인 및 당첨 내역 계산**
- [ ] **로또 번호와 당첨 번호 비교**
  - [ ] 사용자가 발행한 각 로또 티켓의 번호를 당첨 번호 및 보너스 번호와 비교하여 일치하는 숫자 개수를 계산한다.
- [ ] **당첨 내역 계산**
  - [ ] 일치하는 개수와 보너스 번호 포함 여부에 따라 각 티켓의 등수를 결정한다.
  - [ ] 당첨 기준:
    - 1등: 6개 번호 일치
    - 2등: 5개 번호 + 보너스 번호 일치
    - 3등: 5개 번호 일치
    - 4등: 4개 번호 일치
    - 5등: 3개 번호 일치
  - [ ] 각 등수별 당첨된 로또 수량을 집계하고, 당첨 내역을 콘솔에 출력한다.

### 4. **수익률 계산 및 출력**
- [ ] **총 수익 계산**
  - [ ] 각 등수에 해당하는 상금 금액을 사용하여 총 수익을 계산한다.
    - 1등: 2,000,000,000원
    - 2등: 30,000,000원
    - 3등: 1,500,000원
    - 4등: 50,000원
    - 5등: 5,000원
- [ ] **수익률 계산**
  - [ ] 총 수익과 구입 금액을 바탕으로 수익률을 계산한다.
  - [ ] 수익률은 소수점 둘째 자리에서 반올림하여 출력한다 (예: 62.5%).

### 5. **에러 처리 및 예외 상황 대응**
- [ ] **[ERROR] 메시지 출력 및 재입력**
  - [ ] 사용자가 입력한 값이 유효하지 않은 경우(범위 초과, 중복 번호, 1,000원 단위가 아닌 금액 등), IllegalArgumentException을 발생시키고 `[ERROR]` 메시지를 출력한다.
  - [ ] 에러가 발생한 이후 해당 단계부터 다시 입력받도록 처리한다.
- [ ] **명확한 예외 처리**
  - [ ] `IllegalArgumentException`, `IllegalStateException` 등을 사용하여 명확한 예외 상황을 구분하여 처리한다.

<br />

# 테스트
- **테스트 코드**
```java

```

> 아래의 출력 결과처럼 테스트가 잘 됐음을 알 수 있다.

<img src="" width="700;" alt="">

<br />

# 실수 회고

> 과제 수행 중 발생한 실수와 해결 방법에 대한 기록

- **실수 코드**
```java

```

- **개선된 코드**
```java

```

- **문제점**
    

- **해결 방법**
    

<br />