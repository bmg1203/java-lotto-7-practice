# 🎰 로또 발매기 구현 프로젝트

---

## 📋 프로젝트 개요
이 프로젝트는 간단한 로또 발매기를 구현하는 과제입니다.

사용자는 로또 구입 금액을 입력하고, 그 금액에 해당하는 만큼의 로또 번호를 발행합니다.

당첨 번호와 비교 후 결과와 수익률을 확인할 수 있습니다.

---

## 📝 구현 기능 목록

### ⚙️ 사용자 구입 금액의 입력 기능
- 사용자는 프로그램 실행 후 구입할 금액을 입력합니다. 
- 입력된 금액은 로또 발행 개수를 계산하는 데 사용됩니다. 로또 한 장당 가격은 1,000원입니다.
- **예외 처리**:
    - 입력된 금액이 1,000원으로 나누어 떨어지지 않으면 예외가 발생하며, 다시 입력을 받습니다.
    - 입력값이 빈 문자열일 경우 예외가 발생하고, 다시 입력을 받습니다.
    - 입력값이 숫자가 아니거나, 양의 정수가 아닌 경우 예외를 발생시키고, 다시 입력을 받습니다.
    - 입력값이 `int`의 범위를 넘는 경우도 예외를 발생시킵니다.

### ⚙️ 입력된 금액만큼 로또 발행 기능
- 입력된 구입 금액을 바탕으로 로또를 발행합니다. 발행 개수는 `구입 금액 / 로또 한 장의 가격`으로 계산됩니다.
- 각 로또는 1부터 45까지의 숫자 중 중복되지 않는 6개의 숫자로 구성됩니다. 이 숫자들은 랜덤하게 생성됩니다.

### ⚙️ 발행된 로또 번호 출력 기능
- 발행된 로또의 개수와 각 로또 번호를 화면에 출력합니다.
- 각 로또 번호는 오름차순으로 정렬되어 출력됩니다.

### ⚙️ 로또 당첨 번호 입력 기능
- 사용자는 당첨 번호를 쉼표(`,`)로 구분하여 입력합니다.
- **예외 처리**:
    - 당첨 번호가 정확히 6개가 아닐 경우 예외가 발생하며, 다시 입력을 받습니다.
    - 입력된 숫자가 1~45 범위를 벗어나면 예외가 발생합니다.
    - 입력된 숫자에 중복이 있을 경우 예외가 발생하며, 다시 입력을 받습니다.

### ⚙️ 보너스 번호 입력 기능
- 사용자는 보너스 번호를 따로 입력합니다. 이 번호는 1~45 사이의 숫자여야 하며, 당첨 번호와 중복될 수 없습니다.
- **예외 처리**:
    - 보너스 번호가 1개의 숫자가 아니거나, 입력된 숫자가 1~45 범위를 벗어날 경우 예외가 발생합니다.
    - 보너스 번호가 당첨 번호와 중복될 경우 예외가 발생하며, 다시 입력을 받습니다.

### ⚙️ 로또 당첨 결과 계산 기능
- 발행된 각 로또 번호와 입력된 당첨 번호 및 보너스 번호를 비교하여 당첨 결과를 계산합니다.
- 당첨 기준에 따라 등수를 매기며, 각각의 당첨 결과에 따라 상금을 계산합니다.
- 당첨 기준 및 상금은 다음과 같습니다:
    - **1등**: 6개 번호 모두 일치 (상금: 2,000,000,000원)
    - **2등**: 5개 번호 + 보너스 번호 일치 (상금: 30,000,000원)
    - **3등**: 5개 번호 일치 (상금: 1,500,000원)
    - **4등**: 4개 번호 일치 (상금: 50,000원)
    - **5등**: 3개 번호 일치 (상금: 5,000원)

### ⚙️ 로또 당첨 결과 출력 기능
- 각 등수에 해당하는 당첨 결과를 화면에 출력하여 사용자가 자신의 로또가 얼마나 맞았는지 확인할 수 있습니다.
- 당첨 통계는 각 등수별로 몇 개의 로또가 해당하는지 출력됩니다.

### ⚙️ 수익률 계산 기능
- 로또에 당첨된 금액과 사용자가 입력한 구입 금액을 바탕으로 총 수익률을 계산합니다.
- 수익률은 `(당첨 금액 / 구입 금액) * 100`으로 계산되며, 소수점 둘째 자리에서 반올림합니다.

### ⚙️ 수익률 출력 기능
- 계산된 수익률을 화면에 출력하여, 로또 게임의 최종 결과를 보여줍니다.

---

## 🚨 예외 처리 요구 사항

- 모든 입력 오류 상황에서는 `IllegalArgumentException`을 발생시키며, 에러 메시지는 반드시 "[ERROR]"로 시작해야 합니다.
- **예외 발생 시 입력 재시도**: 예외가 발생한 경우, 해당 입력부터 다시 입력을 받도록 합니다.
- 각 예외 상황에 대해 명확한 에러 메시지를 제공하며, 이를 통해 사용자에게 잘못된 입력이 무엇인지 알립니다.

---

## 💻 프로그래밍 요구 사항

- **JDK 21**을 사용하여 프로그램을 구현하며, 모든 코드가 JDK 21에서 문제없이 실행 가능해야 합니다.
- **외부 라이브러리 사용 제한**: `camp.nextstep.edu.missionutils`의 `Randoms` 및 `Console` API를 사용하여 랜덤 값 생성과 사용자 입력을 처리합니다.
- **코딩 규칙**:
    - 들여쓰기는 최대 2단계까지 허용됩니다.
    - 3항 연산자를 사용하지 않아야 합니다.
    - 각 메서드는 최대 15줄을 넘지 않도록 하며, 하나의 메서드는 하나의 역할만 수행해야 합니다.
    - `else` 예약어 및 `switch/case` 구문을 사용하지 않아야 합니다.
    - Java Enum을 활용하여 프로그램을 구현해야 합니다.
    - 프로그램 종료 시 `System.exit()`을 사용하지 않습니다.

---

## 🧪 테스트 요구 사항

- **단위 테스트**: `JUnit 5`와 `AssertJ`를 활용하여 각 기능이 예상대로 동작하는지 검증하는 단위 테스트를 작성합니다.
- **테스트 대상 제외**: UI로직과 같은 입출력 관련 부분은 테스트 대상에서 제외합니다. 

---

## 💡 실행 예시
```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43]
[3, 5, 11, 16, 32, 38]
...

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

---

## 🗃️ 프로젝트 구조
```
main/java/lotto
│
├── constant
│   └── LottoConstant.java         # 로또 관련 상수들을 정의한 클래스
│
├── controller
│   ├── LottoApplicationController.java  # 애플리케이션 전체 흐름을 제어하는 메인 컨트롤러
│   ├── LottoController.java             # 로또 발행 및 당첨 번호 입력 관련 기능을 제어하는 컨트롤러
│   ├── PaymentController.java           # 사용자로부터 구입 금액을 입력받고 처리하는 컨트롤러
│   └── ResultController.java            # 로또 결과를 계산하고 출력하는 컨트롤러
│
├── domain
│   ├── enums
│   │   ├── LottoRank.java               # 로또 당첨 등수를 관리하는 Enum 클래스
│   │   └── LottoPrize.java              # 로또 등수에 따른 상금을 관리하는 Enum 클래스
│   ├── Lotto.java                       # 로또 번호 객체를 정의하는 클래스
│   ├── LottoDraw.java                   # 당첨 번호와 보너스 번호를 관리하는 클래스
│   ├── LottoPaper.java                  # 여러 개의 로또 번호를 관리하는 클래스
│   ├── LottoResult.java                 # 로또 결과를 관리하는 클래스
│   ├── MatchResult.java                 # 로또 번호와 당첨 번호의 일치 결과를 관리하는 클래스
│   ├── Payment.java                     # 구입 금액과 발행 로또 개수를 관리하는 클래스
│   └── ReturnRate.java                  # 수익률을 계산하고 관리하는 클래스
│
├── exception
│   ├── message
│   │   ├── ErrorMessage.java            # 공통 에러 메시지를 정의하는 클래스
│   │   ├── LottoExceptionMessage.java   # 로또 관련 예외 메시지를 정의한 클래스
│   │   ├── ParserExceptionMessage.java  # 파싱 관련 예외 메시지를 정의한 클래스
│   │   └── PaymentExceptionMessage.java # 결제 관련 예외 메시지를 정의한 클래스
│   ├── LottoException.java              # 로또 관련 예외 처리 클래스
│   ├── ParserException.java             # 입력 파싱 관련 예외 처리 클래스
│   └── PaymentException.java            # 결제 관련 예외 처리 클래스
│
├── utils
│   ├── Parser.java                      # 문자열을 파싱하여 숫자 및 로또 번호로 변환하는 유틸리티 클래스
│   └── RandomNumberGenerator.java       # 로또 번호 생성을 위한 랜덤 숫자 생성기
│
├── view
│   ├── InputReader.java                 # 사용자로부터 입력을 받는 클래스
│   ├── OutputMessage.java               # 출력 메시지를 관리하는 Enum 클래스
│   └── OutputView.java                  # 사용자에게 결과를 출력하는 클래스
│
└── Application.java                     # 프로그램의 진입점, main 메서드를 포함하는 클래스
