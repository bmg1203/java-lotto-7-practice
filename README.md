# java-lotto-precourse

## 구현 방식 및 클래스 설명

### 1. 프로그램 구조
프로그램은 주요 기능별로 클래스를 분리하여 유지 보수성과 확장성을 고려해 설계되었습니다.

### 2. `LottoApplication` 클래스
프로그램의 진입점으로, 사용자 입력을 관리하고 프로그램의 주요 흐름을 제어합니다. `main()` 메서드는 사용자의 입력을 받아 로또 티켓을 발행하고, 당첨 여부를 검사하며 결과를 출력하는 전체 과정을 담당합니다.

### 3. `WinningNumberInput` 클래스
사용자 입력과 유효성 검사를 담당하는 클래스입니다. 금액 입력, 당첨 번호 입력, 보너스 번호 입력과 관련된 로직을 포함합니다.
- **`getPurchaseAmount()`**: 금액을 입력받고 1,000원 단위로 나누어지는지 확인합니다. 입력이 올바르면 구매할 티켓 수를 계산해 반환합니다.
- **`getWinningNumbers()`**: 쉼표(,)로 구분된 6개의 당첨 번호를 입력받아 검증하고, 중복이나 범위(1~45)를 벗어나지 않는지 확인합니다.
- **`getBonusNumber()`**: 보너스 번호 하나를 입력받아 유효성을 검사합니다.

### 4. `LottoMachine` 클래스
로또 번호 발행을 담당합니다.
- **`issueLottos(int purchaseAmount)`**: `purchaseAmount`에 따라 티켓 수를 계산하고, 각 티켓에 대해 6개의 고유 번호를 생성하여 반환합니다. 생성된 번호는 중복되지 않으며, 1부터 45 사이의 숫자 범위를 가집니다.

### 5. `Lotto` 클래스
개별 로또 티켓을 나타내며, 번호 목록을 저장하고 정렬합니다.
- **`validate()`** 메서드를 통해 로또 번호가 6개인지 검증하고 중복 여부를 확인합니다.
- `toString()` 메서드를 통해 티켓 번호를 출력할 수 있습니다.
- 인스턴스는 번호 목록을 불변으로 유지하여 안정성을 제공합니다.

### 6. `LottoChecker` 클래스
로또 티켓과 당첨 번호를 비교하여 당첨 내역을 계산하고 수익률을 출력합니다.
- **`printResults()`**: 당첨 번호와 구매한 로또 티켓을 비교하여 당첨 내역을 출력합니다.
- **`printProfitRate()`**: 구매 금액 대비 수익률을 계산하여 출력합니다.

### 7. `Rank` 클래스
각 등수에 대한 정보를 정의한 Enum 클래스입니다. 각 등수는 일치하는 번호의 개수, 상금, 설명을 포함합니다.
- **`valueOfMatch(int matchCount, boolean hasBonus)`**: 일치하는 번호 개수와 보너스 번호 여부를 기준으로 해당하는 등수를 반환합니다.
- **`getMatchCount()`**: 해당 등수의 일치하는 번호 개수를 반환합니다.
- **`getPrize()`**: 해당 등수의 상금을 반환합니다.
- **`getDescription()`**: 해당 등수의 설명을 반환합니다.

### 주요 등수 정의:
- **`FIRST`**: 6개 번호 일치 (상금: 2,000,000,000원)
- **`SECOND`**: 5개 번호 + 보너스 번호 일치 (상금: 30,000,000원)
- **`THIRD`**: 5개 번호 일치 (상금: 1,500,000원)
- **`FOURTH`**: 4개 번호 일치 (상금: 50,000원)
- **`FIFTH`**: 3개 번호 일치 (상금: 5,000원)
- **`NONE`**: 당첨되지 않음 (상금: 0원)

## 주요 로직 설명

### 로또 발행
- 사용자는 구매할 금액을 입력합니다. 금액은 1,000원 단위로 나누어 떨어져야 하며, 이 기준을 만족하지 않으면 오류 메시지를 출력하고 다시 입력받습니다.
- `LottoMachine` 클래스는 입력된 금액에 따라 로또 티켓을 발행합니다. `Randoms.pickUniqueNumbersInRange(1, 45, 6)` 메서드를 사용하여 중복되지 않는 번호를 무작위로 생성합니다.

### 당첨 번호 입력
- `WinningNumberInput` 클래스는 당첨 번호와 보너스 번호를 입력받고 유효성을 검증합니다. 당첨 번호는 쉼표로 구분된 6개의 숫자여야 하며, 보너스 번호는 당첨 번호와 중복되지 않는지 확인합니다.

### 당첨 내역 및 수익률 계산
- `LottoChecker` 클래스는 당첨 번호와 구매한 로또 티켓을 비교하여 각 티켓의 당첨 등수를 계산합니다. 등수별 상금에 따라 총 수익을 계산하고 수익률을 출력합니다. 수익률은 소수점 둘째 자리에서 반올림합니다.

## 예외 처리
- 모든 입력은 `IllegalArgumentException`을 통해 검증하며, 오류 메시지는 "[ERROR]"로 시작합니다.
- 잘못된 입력은 다시 입력받도록 프로그램이 유도합니다.
- 금액 입력, 당첨 번호 및 보너스 번호 입력 시 올바르지 않은 입력값에 대해 상세한 오류 메시지를 제공합니다.

