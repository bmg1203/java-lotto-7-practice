# java-lotto-precourse

## 📋 기능 목록 
### 🛠️ 1. 입력 처리
   - 사용자가 구입 금액을 입력하도록 안내
   - 구입 금액을 검증 (양의 정수이며 1,000의 배수여야 함)
   - 유효하지 않은 입력일 경우 IllegalArgumentException을 발생시키며, 메시지는 **"[ERROR] 유효하지 않은 금액입니다. 1,000원 단위로 입력하세요."**와 같은 형식으로 시작
   - 예외 발생 시 오류 메시지를 출력하고 재입력을 요청
  
### 🛠️ 2. 로또 생성
  - 구입 금액에 따라 발행할 로또 티켓 개수를 계산
  - 지정된 수만큼의 로또 티켓을 생성하고, 각 티켓에는 1에서 45 사이의 중복되지 않는 6개의 숫자가 포함되도록 
  - 각 티켓의 숫자는 중복이 없어야 하며 정확히 6개의 숫자를 가지도록
  - 로또 생성 중 잘못된 입력 값(숫자 범위 벗어남, 중복 등)이 있을 경우 IllegalArgumentException을 발생시키고, 오류 메시지는 **"[ERROR] 로또 번호는 1에서 45 사이의 숫자로, 중복되지 않아야 합니다."**와 같은 형식으로 시작
  - 생성한 로또 개수와 생성 결과 번호들을 오름차순으로 출력
  
### 🛠️ 3. 당첨 번호 입력
   - 사용자가 당첨 번호(1에서 45 사이의 중복되지 않는 6개의 숫자)를 입력하도록 안내
   - 정확히 6개의 숫자가 입력되었는지, 각 숫자가 1에서 45 범위 내에 있는지를 검증
   - 유효하지 않은 입력일 경우 IllegalArgumentException을 발생시키며, 오류 메시지는 **"[ERROR] 당첨 번호는 1에서 45 사이의 숫자로, 중복되지 않아야 합니다."**와 같은 형식으로 시작
   - 예외 발생 시 오류 메시지를 출력하고 재입력을 요청
  
### 🛠️ 4. 보너스 번호 입력
   - 사용자가 보너스 번호(1에서 45 사이의 숫자)를 입력하도록 안내
   - 입력된 번호가 1에서 45 범위 내에 있는지, 당첨 번호와 중복되지 않는지를 검증
   - 유효하지 않은 입력일 경우 IllegalArgumentException을 발생시키며, 오류 메시지는 **"[ERROR] 보너스 번호는 당첨 번호와 중복되지 않으며 1에서 45 사이여야 합니다."**와 같은 형식으로 시작
   - 예외 발생 시 오류 메시지를 출력하고 재입력을 요청
  
### 🛠️ 5. 로또 결과 계산
   - 사용자가 구매한 각 로또 티켓을 당첨 번호와 비교
   - 각 티켓의 일치하는 숫자 수를 계산
   - 일치하는 숫자와 보너스 번호에 따라 Rank를 결정
   - RankCalculationStrategy 인터페이스와 DefaultRankCalculationStrategy 구현을 사용하여 전략 패턴을 적용
   - 각 티켓의 결과를 요약하여 저장
  
### 🛠️ 6. 결과 요약 및 출력
   - 각 티켓의 등수 결과를 요약하여 출력
   - 각 등수에 따른 총 상금을 계산
   - 수익률(ROI)을 계산하여 퍼센트로 출력
   - 각 등수별 당첨 개수, 상금 및 최종 수익률을 포함한 최종 요약을 출력


## 🏛️ 디자인 패턴 적용

### 전략 패턴
: RankCalculationStrategy 인터페이스를 통해 다양한 당첨 조건에 대응할 수 있도록 설계. DefaultRankCalculationStrategy를 기본으로 사용하며, 필요시 다른 전략으로 교체 가능.

### MVC 패턴
: 애플리케이션의 흐름을 LottoController가 관리하고, LottoService가 비즈니스 로직을 담당하여 컨트롤러와 비즈니스 로직을 분리
- LottoController: 사용자 입력과 출력을 관리하고 애플리케이션의 전체 흐름을 제어
- LottoService: 로또 티켓 생성, 결과 계산 등 도메인 계층을 조합하여 주요 비즈니스 로직을 담당
- View (OutputView와 InputView): 사용자와의 입출력을 처리, 사용자 인터페이스를 담당

  
## ✅ 단위 테스트 방식 도입

### 🧪 1. 입력 처리 테스트
구입 금액 검증
- 유효하지 않은 입력(예: 숫자가 아닌 값, 음수, 1,000원 단위가 아닌 값)에 대해 예외가 발생하는지 확인하는 테스트를 작성
- 예외 발생 시 메시지가 **"[ERROR]"**로 시작하는지 검증하여 올바른 예외 메시지가 반환되는지 확인

당첨 번호 및 보너스 번호 검증
- 1에서 45 범위 내의 6개 숫자를 입력했을 때 정상적으로 검증되는지 확인
- 숫자가 1~45 범위를 벗어나거나 중복된 경우, IllegalArgumentException이 발생하는지 확인하고, 예외 메시지의 정확성을 검증
  
### 🧪 2. 로또 생성 테스트
로또 티켓 생성
- 구입 금액에 따른 로또 티켓의 개수가 정확하게 생성되는지 확인
- 각 로또 티켓이 중복되지 않는 6개의 숫자를 포함하고 있는지 검증
- 생성된 로또 티켓 번호가 1에서 45 범위 내에 있는지 테스트
- 로또 번호 정렬 테스트: 생성된 로또 번호가 오름차순으로 정렬되어 있는지 확인하여 일관된 형식을 유지하도록 테스트

### 🧪 3. 로또 결과 계산 테스트
일치 개수와 보너스 번호에 따른 Rank 계산
- RankCalculationStrategy 인터페이스를 통한 전략 패턴 테스트
   - DefaultRankCalculationStrategy가 매칭 숫자와 보너스 번호에 따라 올바른 Rank를 반환하는지 테스트
- 모든 로또 티켓의 결과를 요약하여 등수를 저장하는 로직에 대한 테스트도 수행하여 로또 결과의 정확성을 보장
  
수익률(ROI) 계산
- 각 등수의 당첨 개수와 상금을 입력하여 총 수익률이 정확히 계산되는지 검증

### 🧪 테스트 도구와 라이브러리
- JUnit: 테스트 프레임워크로 JUnit을 사용하여 각 메서드가 예상대로 작동하는지 확인
- AssertJ: 단위 테스트에서 조건을 검증하는 데에 AssertJ의 유창한 API를 사용하여 가독성을 높이고, 테스트 조건과 메시지를 명확하게 표현



