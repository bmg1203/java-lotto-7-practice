# java-lotto-precourse

## 1. 로또 발매기 애플리케이션 소개

로또 발매기 애플리케이션은 사용자가 입력한 금액으로 로또를 구매하고, 당첨 번호와 비교하여 당첨 여부와 수익률을 확인하는 애플리케이션입니다. 로또는 1부터 45
사이의 중복되지 않는 6개의 번호로 구성되며, 사용자는 구매 후 당첨 번호와 보너스 번호를 입력하여 결과를 확인할 수 있습니다. 로또 번호와 당첨 번호를 비교하여 1등
부터 5등까지의 당첨 여부를 판단하고, 결과에 따른 수익률을 계산하여 사용자에게 제공합니다.

## 2. 패키지 목록 (클래스 포함)

```
src
 ├── main
 │   └── java
 │       └── lotto
 │           ├── controller
 │           │   └── LottoController.java              // 로또 게임 로직을 제어하는 컨트롤러 클래스
 │           ├── domain
 │           │   ├── Lotto.java                        // 로또 번호를 나타내는 도메인 클래스
 │           │   ├── LotteryBuyer.java                 // 로또 구매자를 나타내는 도메인 클래스
 │           │   └── PrizeTier.java                    // 당첨 등수를 정의하는 열거형 클래스
 │           ├── service
 │           │   ├── LottoService.java                 // 로또 서비스 클래스
 │           │   ├── LottoNumberGenerator.java         // 로또 번호 생성 인터페이스
 │           │   └── RandomLottoNumberGenerator.java   // 랜덤 로또 번호 생성 구현 클래스
 │           ├── util
 │           │   ├── CommonUtil.java                   // 유틸리티 메서드를 제공하는 클래스
 │           │   ├── Constant.java                     // 상수 값을 관리하는 클래스
 │           │   └── MessageSource.java                // 메시지 프로퍼티를 불러오는 클래스
 │           ├── validation
 │           │   ├── Validator.java                    // 입력 값을 검증하는 클래스
 │           │   └── ValidatorUtil.java                // 입력값 유효성을 확인하는 유틸리티 클래스
 │           ├── view
 │           │   ├── InputView.java                    // 사용자 입력을 담당하는 클래스
 │           │   └── OutputView.java                   // 출력을 담당하는 클래스
 │           └── Application.java                      // 애플리케이션 실행 클래스
 ├── resources                                         // 메시지 프로퍼티 파일을 관리하는 디렉토리
 │   └── messages.properties                           // 에러 메시지 및 텍스트 리소스 파일
 └── test
     └── java
         └── lotto
             ├── controller
             │   └── LottoControllerTest.java          // LottoController 테스트 클래스
             ├── domain
             │   ├── LottoTest.java                    // Lotto 클래스의 테스트 클래스
             │   ├── LotteryBuyerTest.java             // LotteryBuyer 클래스의 테스트 클래스
             │   └── PrizeTierTest.java                // PrizeTier 클래스의 테스트 클래스
             ├── service
             │   ├── LottoServiceTest.java             // LottoService 테스트 클래스
             │   └── RandomLottoNumberGeneratorTest.java // RandomLottoNumberGenerator 테스트 클래스
             ├── util
             │   └── CommonUtilTest.java               // CommonUtil 테스트 클래스
             └── validation
                 ├── ValidatorTest.java                // Validator 테스트 클래스
                 └── ValidatorUtilTest.java            // ValidatorUtil 테스트 클래스
```

## 3. 기능 목록

* 로또 구입 금액 입력
    * 로또 구입 금액을 입력
    * 예외 처리
        * 입려받은 금액이 1,000원 단위가 아닐 경우
        * 1,000원 미만, 100,000원 초과 금액일 때
    * 예외 처리 후 재입력 요청
* 구입한 로또 개수 및 번호 출력
    * 입력받은 금액에 따라 발행할 로또 개수를 계산
    * 로또 번호 생성
        * 중복되지 않는 6개의 각 로또 번호를 생성하고, 오름차순으로 정렬
        * 발행된 로또의 수량과 각 로또 번호를 출력
* 당첨 번호 입력
    * 쉼표(,)로 구분된 6개의 당첨 번호를 입력
    * 예외 처리
        * 번호가 6개가 아닐 때
        * 각 번호가 1~45 범위를 벗어날 때
        * 중복된 번호가 포함된 경우
    * 예외 처리 후 재입력 요청
* 보너스 번호 입력
    * 보너스 번호를 입력
    * 예외 처리
        * 보너스 번호가 1~45 범위를 벗어날 때
        * 당첨 번호와 중복될 때
    * 예외 처리 후 재입력 요청
* 당첨 결과 확인
    * 당첨 번호와 구매한 로또 번호 비교
        * 각 로또 번호와 입력된 당첨 번호, 보너스 번호를 비교하여 일치하는 번호 수와 보너스 번호 일치 여부를 확인
    * 등수 판별
        * 일치하는 번호 수와 보너스 번호 일치 여부에 따라 1~5등 중 담첨 등수를 판별
        * 1등: 6개 번호 일치
        * 2등: 5개 번호 + 보너스 번호 일치
        * 3등: 5개 번호 일치
        * 4등: 4개 번호 일치
        * 5등: 3개 번호 일치
* 당첨 통계 출력
    * 등수별 당첨 횟수를 출력한다.
* 수익률 계산 및 출력
    * 수익률 계산
        * 총당첨 금액과 구입 금액을 바탕으로 수익률을 계산
        * 소수점 둘째 자리에서 반올림하여 출력
* 예외 처리
    * 잘못된 입력에 대한 예외 발생 시 IllegalArgumentException으로 처리하고, [ERROR]로 시작하는 에러 메시지를 출력한다.
    * 각 입력 단계마다 유효성을 검사하고, 잘못된 입력이 있을 경우 해당 부분부터 재입력

### 4. 예외 상황 목록

* **로또 구입 금액 입력 예외**
    * 구입 금액이 1,000원 단위가 아닐 경우: `[ERROR] 구입 금액은 1,000원 단위여야 합니다.`
    * 구입 금액이 1,000원 미만이거나 100,000원을 초과하는 경우: `[ERROR] 구입 금액은 1,000원 이상 100,000원 이하이어야 합니다.`

* **당첨 번호 입력 예외**
    * 입력된 당첨 번호가 6개가 아닐 경우: `[ERROR] 당첨 번호는 정확히 6개여야 합니다.`
    * 당첨 번호 중 숫자가 1~45 범위를 벗어날 경우: `[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.`
    * 당첨 번호에 중복된 숫자가 있을 경우: `[ERROR] 로또 번호는 중복되지 않아야 합니다.`

* **보너스 번호 입력 예외**
    * 보너스 번호가 1~45 범위를 벗어날 경우: `[ERROR] 보너스 번호는 1부터 45 사이의 숫자여야 합니다.`
    * 보너스 번호가 당첨 번호와 중복될 경우: `[ERROR] 보너스 번호는 당첨 번호와 중복되지 않아야 합니다.`

* **잘못된 입력 형식 예외**
    * 입력이 숫자가 아닐 경우: `[ERROR] 입력 값은 숫자로만 이루어져 있어야 합니다.`
    * 기타 잘못된 입력이 있을 경우 `IllegalArgumentException`으로 처리하고 `[ERROR]`로 시작하는 에러 메시지를 출력합니다.

* **입력 예외 처리 후 재입력 요청**
    * 각 입력 단계마다 유효성을 검사하여 잘못된 입력이 있을 경우 에러 메시지를 출력하고, 해당 단계에서부터 다시 입력을 받습니다.

### 5. 테스트 목록

* **로또 구입 금액 입력 테스트**
    * 유효한 구입 금액 입력: 8,000원을 입력하여 8개의 로또가 발행되는지 확인합니다.
    * 1,000원 단위가 아닌 구입 금액 입력: 1,200원을 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.
    * 구입 금액 범위 초과: 120,000원을 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.

* **구입한 로또 개수 및 번호 출력 테스트**
    * 로또 개수 및 번호 생성: 입력된 금액에 따라 구입한 로또 개수와 각 로또 번호가 정상적으로 생성 및 출력되는지 확인합니다.
    * 번호 중복 확인: 각 로또 번호가 중복되지 않고 오름차순으로 정렬되어 출력되는지 확인합니다.

* **당첨 번호 입력 테스트**
    * 유효한 당첨 번호 입력: 6개의 1~45 범위의 번호를 입력하여 정상적으로 처리되는지 확인합니다.
    * 6개가 아닌 당첨 번호 입력: 5개의 번호를 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.
    * 범위를 벗어난 당첨 번호 입력: 46을 포함하여 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.
    * 중복된 당첨 번호 입력: 같은 번호를 두 번 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.

* **보너스 번호 입력 테스트**
    * 유효한 보너스 번호 입력: 1~45 범위 내에서 중복되지 않는 보너스 번호가 입력되는지 확인합니다.
    * 범위를 벗어난 보너스 번호 입력: 50을 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.
    * 당첨 번호와 중복된 보너스 번호 입력: 당첨 번호와 동일한 번호를 보너스 번호로 입력할 경우 예외 발생 및 재입력 요청이 발생하는지 확인합니다.

* **당첨 결과 확인 테스트**
    * 당첨 번호와 로또 번호 비교: 당첨 번호와 보너스 번호를 입력하여 구매한 로또 번호와 비교할 때, 각 로또의 당첨 등수가 정확히 계산되는지 확인합니다.
    * 등수 판별 테스트: 1~5등까지의 등수가 각 일치 조건에 따라 정확히 판별되는지 확인합니다.

* **당첨 통계 출력 테스트**
    * 등수별 당첨 횟수 출력: 등수별로 당첨된 횟수가 정확하게 출력되는지 확인합니다.

* **수익률 계산 및 출력 테스트**
    * 정확한 수익률 계산: 총당첨 금액과 구입 금액을 바탕으로 수익률이 정확히 계산되는지 확인합니다.
    * 수익률 소수점 반올림: 수익률이 소수점 첫째 자리에서 반올림하여 출력되는지 확인합니다.

* **잘못된 입력 처리 테스트**
    * 숫자가 아닌 입력 예외 처리: 구입 금액, 당첨 번호, 보너스 번호에서 숫자가 아닌 입력이 들어올 경우 예외가 발생하고 `[ERROR]` 메시지가 출력되는지 확인합니다.
    * 예외 발생 시 재입력 요청: 예외가 발생하면 해당 입력 단계에서 재입력을 요청하는지 확인합니다.