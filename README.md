# java-lotto-precourse

## 📖 프로젝트 소개
### 개요
이 프로그램은 간단한 로또 발매기입니다. 사용자가 로또 구입 금액을 입력하면, 해당 금액에 맞게 로또를 발행합니다.  
이후 당첨 번호와 보너스 번호를 입력하면, 당첨 여부와 당첨 금액에 대한 정보를 제공합니다.  
마지막으로, 사용자의 당첨 통계와 수익률 정보를 확인할 수 있으며 프로그램은 종료됩니다.  

### 추가 설명
- 지불 금액은 1000원 단위로 한정됩니다.
- 1000원당 로또 한 장이 발행됩니다.
- 로또 발행 수는 입력한 금액을 1000으로 나눈 값으로 자동 결정되며 수량은 선택할 수 없습니다.
- 당첨 번호와 보너스 번호는 1에서 45 사이의 숫자입니다.
- 수익률 계산 방법은 (총 당첨 금액 ÷ 총 구매 금액) × 100 입니다.
- 1등부터 5등까지의 당첨 기준 및 당첨 금액:  
1️⃣등: 6개 번호 일치 / 2,000,000,000원  
2️⃣등: 5개 번호 + 보너스 번호 일치 / 30,000,000원  
3️⃣등: 5개 번호 일치 / 1,500,000원  
4️⃣등: 4개 번호 일치 / 50,000원  
5️⃣등: 3개 번호 일치 / 5,000원  

## 📝 기능 목록
1. 구입 금액 입력 받기
    - **예외처리**: 숫자가 아닐 경우 
    - **예외처리**: 자연수가 아닐 경우  
    - **예외처리**: 1000으로 나누어 떨어지지 않을 경우
2. 구입한 로또 수량 출력  
3. 발행한 로또 모두 차례대로 출력
4. 당첨 번호 입력 
    - **예외처리**: 숫자가 아닐 경우  
    - **예외처리**: 자연수가 아닐 경우  
    - **예외처리**: 1과 45사이의 자연수가 아닐 경우 
    - **예외처리**: 중복이 있을 경우 
5. 보너스 번호 입력  
    - **예외처리**: 숫자가 아닐 경우  
    - **예외처리**: 자연수가 아닐 경우  
    - **예외처리**: 1과 45사이의 자연수가 아닐 경우 
    - **예외처리**: 당첨 번호들과 중복이 있을 경우 
4. 당첨 내역 출력
5. 수익률 출력 

## Use Case 시나리오
### 기본 흐름

| **단계** | **로또 발매기 애플리케이션**                            |
|---------|------------------------------------|
| 1       | 시스템이 구입 금액을 입력 받기 위한 텍스트를 디스플레이한다. |
| 2       | 사용자가 구입 금액을 입력한다. |
| 3       | 시스템이 사용자가 구입한 로또의 수량을 디스플레이한다. |
| 4       | 시스템이 각 로또를 중복되지 않는 6개의 숫자로 발행한다. |
| 5       | 시스템이 각 로또를 오름차순으로 정렬한다. |
| 6       | 시스템이 발행한 로또 모두 차례대로 디스플레이한다. |
| 7       | 사용자가 당첨 반호를 입력한다. |
| 8       | 사용자가 보너스 반호를 입력한다. |
| 9       | 시스템이 사용자가 구매한 로또 번호와 당첨/보너스 번호를 비교한다. |
| 10      | 시스템이 사용자의 당첨 내역을 계산한다. |
| 11      | 시스템이 사용자의 당첨 내역을 디스플레이한다. |
| 12      | 시스템이 사용자의 수익률을 계산한다. |
| 13      | 시스템이 사용자의 수익률을 디스플레이한다. |


### 대체 흐름 및 예외 흐름

| **조건**                   | **시스템 반응**                                       |
|--------------------------|-----------------------------------------------------|
| 입력된 구입 금액이 자연수가 아닐 경우   | 사용자에게 구입 금액 입력을 다시 요청한다.   |
| 입력된 구입 금액이 1000으로 나누어 떨어지지 않을 경우   | 사용자에게 구입 금액 입력을 다시 요청한다.    |
| 입력된 당첨 번호가 1과 45사이의 자연수가 아닐 경우   | 사용자에게 당첨 번호 입력을 다시 요청한다.    |
| 입력된 당첨 번호 중에 중복이 있을 경우  | 사용자에게 당첨 번호 입력을 다시 요청한다.    |
| 입력된 보너스 번호가 1과 45사이의 자연수가 아닐 경우 | 사용자에게 보너스 번호 입력을 다시 요청한다.    |
| 입력된 보너스 번호가 당첨 번호들과 중복이 있을 경우 | 사용자에게 보너스 번호 입력을 다시 요청한다.    |

## Use Case  다이어그램
<img src="https://github.com/user-attachments/assets/72a146d8-d402-49ed-b37a-74c5fa5fbf9e" alt="미션3_유스케이스_다이어그램" width="400"/>

# MVC 구조

## 🔵 **Model**

### ReturnRateRule 👉 수익률 계산 규칙을 관리하는 인터페이스
- **메서드**
  - `calculateReturnRate`: 수익률 계산하기

### Lotto 👉 로또를 관리하는 클래스
- **필드**
  - `List<Integer> numbers`: 로또 번호 목록

- **메서드**
  - `Lotto` : 생성자
  - `validate`: 로또 번호 유효성 검사하기
  - `compareWinningNumbers`: 당첨 번호와 비교하기
  - `numbersToString`: 번호를 문자열로 변환하기

### Lottos 👉 발행된 로또들을 관리하는 클래스
- **필드**
  - `List<Lotto> lottos`: 로또 객체 리스트

- **메서드**
  - `Lottos`: 생성자
  - `quantifyAllLottos`: 로또의 수량 반환하기
  - `allLottosToString`: 모든 로또 번호를 문자열로 변환하기

### Money 👉 구입 금액을 관리하는 클래스
- **필드**
  - `Integer money`: 구입 금액

- **메서드**
  - `Money`: 생성자
  - `parserToInt`: 문자열을 정수로 파싱하기
  - `validate`: 구입 금액의 유효성 검사하기

### WinningNumbers 👉 당첨 번호를 관리하는 클래스
- **필드**
  - `List<Integer> numbers`: 당첨 번호 리스트
  - `Integer bonusNumber`: 보너스 번호

- **메서드**
  - `WinningNumbers`: 생성자
  - `splitWinningNumbers`: 당첨 번호 문자열을 분리하기
  - `paserWinningNumbers`: 당첨 번호를 정수로 파싱하기
  - `paserBonusNumber`: 보너스 번호를 정수로 파싱하기
  - `validate`: 당첨/보너스 번호의 유효성 검사하기

### WinningStatistic 👉 당첨 통계를 관리하는 클래스
- **필드**
  - `List<WinningType> winningStatistic`: 당첨 통계 리스트

- **메서드**
  - `WinningStatistic`: 생성자
  - `calculateStatistic`: 당첨 통계 계산하기
  - `statisticToString`: 당첨 통계 결과를 문자열로 변환하기
  - `sumAllPrice`: 총 당첨금 계산하기

### ReturnRate 👉 수익률을 관리하는 클래스
- **필드**
  - `Integer firstPercentage`: 첫 번째 수익률

- **메서드**
  - `ReturnRate`: 생성자
  - `calculateReturnRate`: 수익률 계산하기
  - `rounding`: 수익률을 소수점 둘째 자리에서 반올림하기


## 🟡 **View**

### InputView 👉 사용자 입력을 처리하는 클래스
- **메서드**
  - `readMoney`: 구입 금액 입력 받기
  - `readWinningNumbers`: 당첨 번호 입력 받기
  - `readBonusNumber`: 보너스 번호 입력 받기

### OutputView 👉 결과 출력을 처리하는 클래스
- **메서드**
  - `printQuantityOfLottos`: 발행된 로또 수량 출력하기
  - `printAllLottos`: 발행된 모든 로또 출력하기
  - `printStatistic`: 당첨 통계 출력하기
  - `printReturnRate`: 당첨 수익률 출력하기


## 🟢 **Controller**

### RacingController 👉 로또 발매기에서 사용자 입력을 받고 모델과 상호작용하여 경주를 진행하는 컨트롤러
- **필드**
  - `Lottos`: 발행된 모든 로또 객체
  - `WinningStatistic`: 당첨 통계 객체
  - `Money`: 구입 금액 객체
  - `ReturnRate`: 수익률 객체

- **메서드**
  - `startRelease`: 로또 발매 시작하기



## 🔴 **Validation**

### MoneyValidator 👉 구입 금액 입력값의 유효성을 검사하는 클래스
- **메서드**
  - `validateMoney`: 입력된 구입 금액의 유효성 검사하기

### WinningNumbersValidator 👉 당첨/보너스 번호 입력값의 유효성을 검사하는 클래스
- **메서드**
  - `mainValidator`: 여러 유효성 메서드 관리하기
  - `validateNumbers`: 입력된 당첨/보너스 번호의 유효성 검사하기
  - `validateDuplicate`: 입력된 당첨/보너스 번호 중에 중복 번호 여부 검사하기

### LottoNumberValidator 👉 로또 번호의 유효성을 검사하는 클래스
- **메서드**
  - `validateNumbers`: 로또 번호의 유효성 검사하기


## 🟣 **Enum**

### WinningType 👉 당첨 당첨 기준과 금액을 관리하는 enum
- **상수 필드**
  - `1ST_PLACE`: 1등
  - `2ND_PLACE`: 2등
  - `3RD_PLACE`: 3등
  - `4TH_PLACE`: 4등
  - `5TH_PLACE`: 5등
  - `6TH_PLACE`: 6등

### SystemMessage 👉 시스템 메세지를 관리하는 인터페이스
- **메서드**
  - `getMessage`: 시스템 메세지 반환하기  

### ErrorMessage 👉 시스템 에러 메세지를 관리하는 enum
- **메서드**
  - `getMessage`: 시스템 에러 메세지 반환하기  

### IOMessage 👉 시스템 입출력 메세지를 관리하는 enum
- **메서드**
  - `getMessage`: 시스템 IO메세지 반환하기  


## 🟤 **Utilities**

### Random 👉 무작위 숫자 생성 유틸리티 클래스
- **메서드**
  - `lottoGenerator`: 로또 번호 생성하기

### Parser 👉 문자열에서 정수로 파싱하는 유틸리티 클래스
- **메서드**
  - `parseNumberToInt`: 숫자 하나를 정수로 변환하기
  - `parseNumbersToInt`: 여러 숫자를 정수로 변환하기

### Sorter 👉 정렬을 담당하는 유틸리티 클래스
- **메서드**
  - `inAscendingOrder`: 오름차순으로 정렬하기

### Splitter 👉 문자열을 분리하는 유틸리티 클래스
- **메서드**
  - `splitWinningNumbers`: 당첨 번호 문자열을 분리하기
