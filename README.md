# java-lotto-precourse


## 기능 목록

---

### 문자열 입출력

#### 문자열 입력
- `camp.nextstep.edu.missionutils.Console` API로 사용자의 입력을 받는다.

#### 문자열 출력
- `java.lang.System.out.println`을 사용해 내용을 출력한다.

#### 입출력 예시
- 로또 구입 금액을 입력 받을 시
  ```text
  구입금액을 입력해 주세요.
  8000
  ```
    
- 발행한 로또 수량 및 번호를 출력할 시
  ```text
  8개를 구매했습니다.
  [8, 21, 23, 41, 42, 43]
  [3, 5, 11, 16, 32, 38]
  [7, 11, 16, 35, 36, 44]
  [1, 8, 11, 31, 41, 42]
  [13, 14, 16, 38, 42, 45]
  [7, 11, 30, 40, 42, 43]
  [2, 13, 22, 32, 38, 45]
  [1, 3, 5, 14, 22, 45]
  ```
    
- 당첨 번호를 입력 받을 시
  ```text
  당첨 번호를 입력해 주세요.
  1,2,3,4,5,6
  ```
    
- 보너스 번호를 입력 받을 시
  ```text
  보너스 번호를 입력해 주세요.
  7
  ```
    
- 당첨 통계를 출력할 시
  ```text
  당첨 통계
  ---
  3개 일치 (5,000원) - 1개
  4개 일치 (50,000원) - 0개
  5개 일치 (1,500,000원) - 0개
  5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
  6개 일치 (2,000,000,000원) - 0개
  총 수익률은 62.5%입니다.
  ```
    
- 예외 상황 발생 시
  ```text
  [ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
  ```
    
---

### 입력 오류 검사
- 사용자의 입력이 제약 조건에 맞는지 검증한다.

---

### 입력 파싱
- 사용자의 입력 문자열을 숫자로 변환한다.

#### 로또 구입 금액 계산
- 1,000원 단위로 입력 받아 로또를 몇 게임 구매할 것인지 변환한다.
- 입력받은 금액이 1,000원으로 나누어 떨어지지 않을 경우 예외를 발생시킨다.

#### 당첨 번호 변환
- 입력받은 당첨 번호 문자열을 쉼표(,)로 구분해 6개의 숫자로 변환한다.

#### 보너스 번호 변환
- 입력받은 보너스 번호 문자열을 1개의 숫자로 변환한다.

---

### 로또 번호 추출
- 1부터 45까지의 중복되지 않는 숫자 6개와 보너스 번호 1개를 추출한다.
- Random 값 추출은 `camp.nextstep.edu.missionutils.Randoms.pickUniqueNumbersInRange`를 활용한다.

---

### 당첨 여부 확인
- 입력받은 당첨 번호 + 보너스번호를 확인하여 추출한 보너스 번호와 대조한다.
- 당첨은 1등부터 5등까지 존재한다.
- 당첨 기준은 하기와 같다.

    | 순위 | 당첨기준              | 1게임당 당첨금액      |
    |----|-------------------|----------------|
    | 1등 | 6개 번호 일치          | 2,000,000,000원 |
    | 2등 | 5개 번호 + 보너스 번호 일치 | 30,000,000원    |
    | 3등 | 5개 번호 일치          | 1,500,000원     |
    | 4등 | 4개 번호 일치          | 50,000원        |
    | 5등 | 3개 번호 일치          | 5,000원         |

---

### 여러 개의 로또 티켓 관리
- 게임 시도 횟수만큼의 로또 티켓을 생성한다.
- 게임 시도 횟수만큼의 로또 티켓의 당첨 여부를 확인한다.

---

### 수익률 계산
- 구매한 게임들의 총 수익률 통계를 계산한다.
- 수익률은 소수점 둘째 자리에서 반올림한다. (ex. 100.0%, 51.5%, 1,000,000.0%)

---

## 제약 조건
- 아래 표의 조건에 부합하지 않을 경우, 명시된 원인 예외를 발생시킨다.
- 최종적으로 `IllegalArgumentException`로 전환해 예외를 던지고 프로그램을 종료한다.
- 예외 발생 시 프로그램은 `[ERROR] <원인>` 형식으로 출력한다.
- 제약 조건 및 예외 처리 표

| 기능          | 제약 조건                            | 원인 예외                            | 메세지                               |
|-------------|----------------------------------|----------------------------------|-----------------------------------|
| 문자열 입력      | 입력받을 문자열이 비어있으면 안된다.             | `EmptyInputException`            | _빈 문자열은 입력할 수 없습니다._              |
| 로또 구입 금액 계산 | 입력받은 금액은 1,000원 단위로 나누어 떨어져야 한다. | `MoneyFormatException`           | _구입 금액은 1,000원 단위로 나누어 떨어져야 합니다._ |
|             | 입력받은 금액은 숫자로만 이루어져야 한다.          |                                  | _구입 금액은 숫자로만 이루어져야 합니다._          |
|             | 입력받은 금액은 양수여야 한다.                |                                  | _구입 금액은 양수여야 합니다._                |
| 당첨 번호 변환    | 당첨 번호는 정확히 6개여야 한다.              | `DelimitedNumberFormatException` | _당첨 번호는 정확히 6개여야 합니다._            |
|             | 당첨 번호 입력은 숫자와 구분자로만 이루어져야 한다.    |                                  | _당첨 번호는 숫자와 구분자로만 이루어져야 합니다._     |
|             | 당첨 번호는 1부터 45 사이의 숫자여야만 한다.      |                                  | _당첨 번호는 1부터 45 사이의 숫자여야 합니다._     |
| 보너스 번호 변환   | 보너스 번호는 정확히 1개여야 한다.             | `BonusNumberFormatException`     | _보너스 번호는 정확히 1개여야 합니다._           |
|             | 보너스 번호 입력은 숫자로만 이루어져야 한다.        |                                  | _보너스 번호는 숫자로만 이루어져야 합니다._         |
|             | 보너스 번호는 당첨 번호에 포함되지 않아야 한다.      |                                  | _보너스 번호는 당첨 번호 중 하나가 아니어야 합니다._   |
|             | 보너스 번호는 1부터 45 사이의 숫자여야만 한다.     |                                  | _보너스 번호는 1부터 45 사이의 숫자여야 합니다._    |


